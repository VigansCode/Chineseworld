<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å‡¯æ©å²› - è°‹æ€ä¹‹è°œ</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #1a1a2e;
            font-family: 'Courier New', monospace;
        }
        
        #gameCanvas {
            display: block;
            background: #0f3460;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            position: absolute;
            left: 0;
            top: 0;
        }
        
        #sidePanel {
            position: absolute;
            right: 0;
            top: 0;
            width: 300px;
            height: 100vh;
            background: linear-gradient(145deg, #1e293b 0%, #334155 100%);
            border-left: 3px solid #f59e0b;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
        }
        
        .panel-section {
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(148, 163, 184, 0.3);
            padding-bottom: 20px;
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.4) 0%, rgba(51, 65, 85, 0.2) 100%);
            padding: 16px;
            border-radius: 8px;
            border: 1px solid rgba(245, 158, 11, 0.2);
        }
        
        .panel-title {
            color: #fbbf24;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
        }
        
        .panel-content {
            color: #cbd5e1;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .stat-item {
            margin: 8px 0;
        }
        
        #loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: 
                repeating-linear-gradient(
                    0deg,
                    rgba(0, 0, 0, 0.03) 0px,
                    rgba(0, 0, 0, 0.03) 1px,
                    transparent 1px,
                    transparent 2px
                ),
                repeating-linear-gradient(
                    90deg,
                    rgba(0, 0, 0, 0.03) 0px,
                    rgba(0, 0, 0, 0.03) 1px,
                    transparent 1px,
                    transparent 2px
                ),
                linear-gradient(145deg, #e8dcc8 0%, #d4c4a8 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.8s ease, visibility 0.8s ease;
            position: relative;
        }
        
        #loading::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, transparent 0%, rgba(0,0,0,0.02) 100%),
                radial-gradient(circle at 80% 50%, transparent 0%, rgba(0,0,0,0.02) 100%);
            pointer-events: none;
        }
        
        #loading::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="4" stitchTiles="stitch"/></filter><rect width="100" height="100" filter="url(%23noise)" opacity="0.05"/></svg>');
            opacity: 0.4;
            pointer-events: none;
        }
        
        #loading.hidden {
            opacity: 0;
            visibility: hidden;
        }
        
        .loading-content {
            background: linear-gradient(to bottom, #f5f5dc 0%, #e8e8d0 100%);
            border: 4px double #2c2c2c;
            box-shadow: 
                0 0 0 2px #1a1a1a,
                0 0 0 6px #f5f5dc,
                0 0 0 8px #2c2c2c,
                0 30px 60px rgba(0, 0, 0, 0.6),
                inset 0 2px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
            max-width: 700px;
            padding: 70px 90px;
            z-index: 1;
        }
        
        .loading-content::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 15px;
            right: 15px;
            bottom: 15px;
            border: 1px solid rgba(0, 0, 0, 0.15);
            pointer-events: none;
        }
        
        /* Coffee stain rings */
        .loading-content::after {
            content: '';
            position: absolute;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid rgba(101, 67, 33, 0.15);
            top: 30px;
            right: 40px;
            box-shadow: 
                inset 0 0 10px rgba(101, 67, 33, 0.08),
                0 0 5px rgba(101, 67, 33, 0.1);
            pointer-events: none;
        }
        
        .coffee-stain-2 {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid rgba(101, 67, 33, 0.12);
            bottom: 50px;
            left: 50px;
            box-shadow: 
                inset 0 0 8px rgba(101, 67, 33, 0.06),
                0 0 4px rgba(101, 67, 33, 0.08);
            pointer-events: none;
        }
        
        /* Corner ornaments */
        .corner-ornament {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 2px solid rgba(0, 0, 0, 0.2);
            pointer-events: none;
        }
        
        .corner-ornament.top-left {
            top: 20px;
            left: 20px;
            border-right: none;
            border-bottom: none;
        }
        
        .corner-ornament.top-right {
            top: 20px;
            right: 20px;
            border-left: none;
            border-bottom: none;
        }
        
        .corner-ornament.bottom-left {
            bottom: 20px;
            left: 20px;
            border-right: none;
            border-top: none;
        }
        
        .corner-ornament.bottom-right {
            bottom: 20px;
            right: 20px;
            border-left: none;
            border-top: none;
        }
        
        /* Case number stamp */
        .case-stamp {
            position: absolute;
            top: 25px;
            left: 30px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            font-weight: bold;
            color: rgba(139, 0, 0, 0.6);
            letter-spacing: 1px;
            transform: rotate(-5deg);
            border: 2px solid rgba(139, 0, 0, 0.4);
            padding: 6px 12px;
            background: rgba(139, 0, 0, 0.05);
            text-transform: uppercase;
            pointer-events: none;
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .loading-title {
            color: #1a1a1a;
            font-size: 72px;
            font-weight: 900;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 12px;
            text-shadow: 
                3px 3px 0px rgba(0, 0, 0, 0.1),
                1px 1px 0px rgba(0, 0, 0, 0.2);
            font-family: 'Courier New', Courier, monospace;
            line-height: 1;
        }
        
        .loading-subtitle {
            color: #8b0000;
            font-size: 18px;
            margin-bottom: 50px;
            letter-spacing: 6px;
            text-transform: uppercase;
            font-weight: bold;
            font-family: 'Courier New', Courier, monospace;
            border-top: 2px solid #2c2c2c;
            border-bottom: 2px solid #2c2c2c;
            padding: 10px 0;
            margin-top: 20px;
        }
        
        .mystery-icons {
            display: flex;
            justify-content: center;
            gap: 50px;
            margin-bottom: 50px;
            font-size: 48px;
            filter: grayscale(60%) contrast(1.2);
        }
        
        .mystery-icon {
            animation: typewriterBounce 2s ease-in-out infinite;
            opacity: 0.85;
        }
        
        .mystery-icon:nth-child(1) {
            animation-delay: 0s;
        }
        
        .mystery-icon:nth-child(2) {
            animation-delay: 0.3s;
        }
        
        .mystery-icon:nth-child(3) {
            animation-delay: 0.6s;
        }
        
        .loading-bar-container {
            width: 100%;
            margin-bottom: 25px;
        }
        
        .loading-bar {
            width: 100%;
            height: 24px;
            background: 
                repeating-linear-gradient(
                    45deg,
                    #3a3a3a,
                    #3a3a3a 10px,
                    #2c2c2c 10px,
                    #2c2c2c 20px
                );
            overflow: hidden;
            border: 3px solid #1a1a1a;
            box-shadow: 
                inset 0 3px 6px rgba(0, 0, 0, 0.5),
                0 2px 4px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        .loading-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, 
                #8b0000 0%, 
                #a00000 25%,
                #8b0000 50%,
                #a00000 75%,
                #8b0000 100%
            );
            animation: fillBar 3s ease-in-out forwards, shimmer 1.5s ease-in-out infinite;
            box-shadow: 
                inset 0 2px 4px rgba(255, 255, 255, 0.2),
                0 0 15px rgba(139, 0, 0, 0.5);
            position: relative;
        }
        
        .loading-bar-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.2) 0%, transparent 100%);
        }
        
        .loading-text {
            color: #2c2c2c;
            font-size: 14px;
            letter-spacing: 3px;
            font-weight: bold;
            font-family: 'Courier New', Courier, monospace;
            text-transform: uppercase;
            margin-top: 5px;
            overflow: hidden;
            white-space: nowrap;
            border-right: 3px solid #2c2c2c;
            animation: 
                typewriter 3s steps(25) 1s forwards,
                blinkCursor 0.75s step-end infinite;
            width: 0;
            margin-left: auto;
            margin-right: auto;
            display: inline-block;
        }
        
        @keyframes typewriter {
            from { 
                width: 0; 
            }
            to { 
                width: 100%; 
                border-right-color: transparent;
            }
        }
        
        @keyframes blinkCursor {
            0%, 49% { border-right-color: #2c2c2c; }
            50%, 100% { border-right-color: transparent; }
        }
        
        @keyframes fillBar {
            0% { width: 0%; }
            100% { width: 100%; }
        }
        
        @keyframes typewriterBounce {
            0%, 100% { 
                transform: translateY(0px) scale(1);
                opacity: 0.85;
            }
            50% { 
                transform: translateY(-8px) scale(1.05);
                opacity: 1;
            }
        }
        
        @keyframes shimmer {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.9; }
        }
        
        @keyframes blinkCursor {
            0%, 49% { border-right-color: #2c2c2c; }
            50%, 100% { border-right-color: transparent; }
        }
        
        #minimap {
            position: absolute;
            bottom: 20px;
            left: 20px;
            width: 150px;
            background: rgba(0, 0, 0, 0.7);
            border: 3px solid #2ecc71;
            border-radius: 8px;
            overflow: hidden;
        }
        
        #minimapCanvas {
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
        
        #minimapViewport {
            position: absolute;
            border: 2px solid #3498db;
            background: rgba(52, 152, 219, 0.2);
            pointer-events: none;
        }
        
        #playerDot {
            position: absolute;
            width: 8px;
            height: 8px;
            background: red;
            border-radius: 50%;
            border: 2px solid white;
            pointer-events: none;
            z-index: 10;
        }

        #cluesBox {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 260px;
            background: linear-gradient(145deg, #1a1f2e 0%, #2d3748 100%);
            border: 2px solid #f59e0b;
            border-radius: 12px;
            padding: 14px 16px;
            color: #ecf0f1;
            font-size: 12px;
            z-index: 100;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4), 
                        0 0 0 1px rgba(245, 158, 11, 0.2) inset;
            backdrop-filter: blur(10px);
            max-height: 85vh;
            overflow-y: auto;
        }

        #cluesBox .clues-title {
            color: #fbbf24;
            font-size: 14px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(245, 158, 11, 0.3);
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
        }

        #cluesBox .clue-content {
            color: #cbd5e1;
            line-height: 1.5;
            font-size: 11px;
        }

        #cluesBox .clue-item {
            margin-bottom: 8px;
            padding: 8px;
            border-left: 3px solid rgba(245, 158, 11, 0.4);
            background: rgba(15, 23, 42, 0.4);
            border-radius: 4px;
        }
        
        #cluesBox .clue-item:hover {
            background: rgba(245, 158, 11, 0.1);
            border-left-color: #fbbf24;
            transform: translateX(2px);
        }

        #cluesBox .clue-hint {
            font-size: 10px;
            color: #94a3b8;
            font-style: italic;
            margin-top: 6px;
        }
        
        #mysteryModal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 500px;
            max-width: 90vw;
            max-height: 80vh;
            background: linear-gradient(145deg, #1a1f2e, #2d3748);
            border: 3px solid #f59e0b;
            border-radius: 15px;
            padding: 0;
            z-index: 1001;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);
        }

        #mysteryModal.show {
            display: block;
        }

        .mystery-modal-header {
            background: #0f172a;
            padding: 15px 20px;
            border-bottom: 3px solid #f59e0b;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .mystery-modal-title {
            color: #fbbf24;
            font-size: 20px;
            font-weight: bold;
            text-transform: uppercase;
        }

        #closeMysteryModal {
            width: 30px;
            height: 30px;
            background: #1e293b;
            border: 2px solid #f59e0b;
            border-radius: 50%;
            color: #fbbf24;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        #closeMysteryModal:hover {
            background: #f59e0b;
            color: #000;
            transform: scale(1.1);
        }

        .mystery-modal-content {
            padding: 20px;
            max-height: calc(80vh - 80px);
            overflow-y: auto;
            color: #cbd5e1;
        }

        .mystery-section {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(15, 23, 42, 0.6);
            border: 2px solid rgba(245, 158, 11, 0.3);
            border-radius: 8px;
        }

        .mystery-section-title {
            color: #fbbf24;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .mystery-section-content {
            color: #cbd5e1;
            line-height: 1.6;
            font-size: 14px;
        }

        .evidence-item {
            padding: 8px;
            margin: 8px 0;
            background: rgba(239, 68, 68, 0.1);
            border-left: 3px solid #ef4444;
            border-radius: 4px;
        }

        .riddle-item {
            padding: 10px;
            margin: 10px 0;
            background: rgba(251, 191, 36, 0.1);
            border: 2px solid rgba(251, 191, 36, 0.3);
            border-radius: 6px;
            font-style: italic;
            color: #fde68a;
        }
        
        .password-input-container {
            margin: 20px 0;
            padding: 20px;
            background: rgba(15, 23, 42, 0.8);
            border: 2px solid #ef4444;
            border-radius: 8px;
            text-align: center;
        }
        
        .password-input-container input {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            background: #0f172a;
            border: 2px solid #f59e0b;
            border-radius: 6px;
            color: #fbbf24;
            font-family: 'Courier New', monospace;
            text-align: center;
            margin-top: 10px;
        }
        
        .password-input-container button {
            margin-top: 10px;
            padding: 10px 30px;
            background: #f59e0b;
            border: none;
            border-radius: 6px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .password-input-container button:hover {
            background: #fbbf24;
            transform: scale(1.05);
        }
        
        .password-error {
            color: #ef4444;
            margin-top: 10px;
            font-weight: bold;
        }
        
        .password-success {
            color: #22c55e;
            margin-top: 10px;
            font-weight: bold;
        }
        
        .vote-option {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 10px;
            margin: 6px 0;
            background: rgba(15, 23, 42, 0.6);
            border: 2px solid rgba(245, 158, 11, 0.3);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .vote-option:hover {
            background: rgba(245, 158, 11, 0.2);
            border-color: #f59e0b;
            transform: translateX(2px);
        }
        
        .vote-name {
            color: #cbd5e1;
            font-weight: bold;
            font-size: 13px;
        }
        
        .vote-count {
            color: #fbbf24;
            font-weight: bold;
            font-size: 14px;
            background: rgba(251, 191, 36, 0.2);
            padding: 4px 8px;
            border-radius: 4px;
        }

        #playerMarker {
            position: absolute;
            display: none;
            font-size: 32px;
            color: #ffeb3b;
            text-shadow: 2px 2px 6px rgba(0,0,0,0.9), 0 0 10px rgba(255,235,59,0.8);
            pointer-events: none;
            z-index: 1000;
            animation: bounceArrow 0.6s infinite;
        }

        @keyframes bounceArrow {
            0%, 100% { transform: translateY(0) translateX(-50%); }
            50% { transform: translateY(-12px) translateX(-50%); }
        }

        #characterPanel {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            border: 3px solid #f59e0b;
            border-radius: 10px;
            display: flex;
            align-items: center;
            padding: 15px;
            gap: 8px;
            z-index: 200;
        }

        #infoButton {
            position: absolute;
            top: 20px;
            right: 340px;
            width: 50px;
            height: 50px;
            background: linear-gradient(145deg, #fbbf24, #f59e0b);
            border: 3px solid #fcd34d;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 300;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(251, 191, 36, 0.5);
        }

        #infoButton:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(251, 191, 36, 0.7);
        }

        #infoButton span {
            color: #7c2d12;
            font-size: 32px;
            font-weight: bold;
            line-height: 1;
        }
        
        .social-button {
            position: absolute;
            top: 20px;
            width: 50px;
            height: 50px;
            background: rgba(30, 41, 59, 0.9);
            border: 3px solid #64748b;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 300;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }
        
        .social-button img {
            width: 28px;
            height: 28px;
            object-fit: contain;
            transition: all 0.3s ease;
        }
        
        #githubButton img {
            filter: invert(1) brightness(1);
        }
        
        .social-button:hover {
            transform: scale(1.15) rotate(5deg);
            border-color: #f59e0b;
            box-shadow: 0 6px 25px rgba(245, 158, 11, 0.6);
        }
        
        .social-button:hover img {
            transform: scale(1.1);
        }
        
        #twitterButton {
            right: 410px;
        }
        
        #pumpButton {
            right: 480px;
        }
        
        #githubButton {
            right: 550px;
        }

        #infoModal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            max-width: 90vw;
            max-height: 80vh;
            background: linear-gradient(145deg, #fef3c7, #fde68a);
            border: 4px solid #d97706;
            border-radius: 15px;
            padding: 30px;
            z-index: 1000;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }

        #infoModal.show {
            display: block;
        }

        #modalOverlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 999;
        }

        #modalOverlay.show {
            display: block;
        }

        .modal-header {
            color: #92400e;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
            text-transform: uppercase;
            border-bottom: 3px solid #d97706;
            padding-bottom: 10px;
        }

        .modal-section {
            margin-bottom: 25px;
        }

        .modal-section-title {
            color: #92400e;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .modal-content {
            color: #78350f;
            line-height: 1.6;
            font-size: 14px;
        }

        .modal-content ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .modal-content li {
            margin: 8px 0;
        }

        #closeModal {
            position: absolute;
            top: 10px;
            right: 15px;
            width: 35px;
            height: 35px;
            background: #d97706;
            border: 2px solid #b45309;
            border-radius: 50%;
            color: white;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        #closeModal:hover {
            background: #b45309;
            transform: scale(1.1);
        }

        #characterModal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 500px;
            max-width: 90vw;
            max-height: 80vh;
            background: linear-gradient(145deg, #8b4513, #654321);
            border: 4px solid #d2691e;
            border-radius: 15px;
            padding: 0;
            z-index: 1000;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);
        }

        #characterModal.show {
            display: block;
        }

        .char-modal-header {
            background: #654321;
            padding: 15px 20px;
            border-bottom: 3px solid #d2691e;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .char-modal-title {
            color: #fbbf24;
            font-size: 20px;
            font-weight: bold;
            text-transform: uppercase;
        }

        #closeCharModal {
            width: 30px;
            height: 30px;
            background: #8b4513;
            border: 2px solid #d2691e;
            border-radius: 50%;
            color: #fbbf24;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        #closeCharModal:hover {
            background: #654321;
            transform: scale(1.1);
        }

        .char-modal-content {
            padding: 20px;
            max-height: calc(80vh - 80px);
            overflow-y: auto;
        }

        .char-profile-section {
            background: #f5deb3;
            border: 3px solid #d2691e;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
        }

        .char-avatar {
            width: 120px;
            height: 120px;
            background: white;
            border: 3px solid #8b4513;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .char-avatar canvas {
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }

        .char-info {
            flex: 1;
        }

        .char-description {
            color: #4a2511;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .awareness-section {
            background: #f5e6d3;
            border: 3px solid #d2691e;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 20px;
        }

        .awareness-label {
            color: #8b0000;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .awareness-bar {
            width: 100%;
            height: 30px;
            background: #e0e0e0;
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid #8b4513;
            position: relative;
        }

        .awareness-fill {
            height: 100%;
            background: linear-gradient(90deg, #ef4444, #dc2626);
            transition: width 0.3s ease;
            border-radius: 13px;
        }

        .awareness-text {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #4a2511;
            font-weight: bold;
            font-size: 16px;
        }

        .conversations-section {
            margin-top: 20px;
        }

        .conversation-box {
            background: #fef9e7;
            border: 3px solid #d2691e;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
        }

        .conversation-timestamp {
            color: #78350f;
            font-size: 12px;
            margin-bottom: 8px;
            font-family: monospace;
        }

        .conversation-text {
            color: #4a2511;
            font-size: 14px;
            line-height: 1.5;
        }

        .conversation-from {
            color: #8b0000;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .conversation-to {
            color: #1e40af;
            font-weight: bold;
            margin-bottom: 4px;
        }

        .character-card {
            width: 64px;
            background: rgba(30, 41, 59, 0.9);
            border: 2px solid #64748b;
            border-radius: 6px;
            padding: 8px 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .character-card:hover {
            border-color: #f59e0b;
            transform: scale(1.05);
        }

        .character-card.active {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.2);
        }

        .character-sprite {
            width: 48px;
            height: 64px;
            image-rendering: pixelated;
            image-rendering: crisp-edges;
            margin: 0 auto;
        }

        .character-name {
            color: #fff;
            font-size: 9px;
            text-align: center;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            line-height: 1.2;
            word-wrap: break-word;
            overflow-wrap: break-word;
            max-width: 100%;
        }
    </style>
</head>
<body>
    <div id="loading">
        <div class="loading-content">
            <div class="case-stamp">CASE #001</div>
            <div class="corner-ornament top-left"></div>
            <div class="corner-ornament top-right"></div>
            <div class="corner-ornament bottom-left"></div>
            <div class="corner-ornament bottom-right"></div>
            <div class="coffee-stain-2"></div>
            
<div class="loading-title">å‡¯æ©å²›</div>
<div class="loading-subtitle">âšŠ è°‹æ€ä¹‹è°œ âšŠ</div>
<div class="mystery-icons">
    <div class="mystery-icon">ğŸ”</div>
    <div class="mystery-icon">ğŸ—¡ï¸</div>
    <div class="mystery-icon">ğŸ’€</div>
</div>
            <div class="loading-bar-container">
                <div class="loading-bar">
                    <div class="loading-bar-fill"></div>
                </div>
            </div>
            <div class="loading-text">âšŠ CASE FILE LOADING âšŠ</div>
        </div>
    </div>
    <canvas id="gameCanvas"></canvas>
    <div id="minimap">
        <canvas id="minimapCanvas"></canvas>
        <div id="minimapViewport"></div>
        <div id="playerDot"></div>
    </div>
    
<div id="cluesBox">
    <div class="clues-title">ğŸ”® è°œå›¢</div>
    <div class="clue-content">
        <div class="clue-item" onclick="openMysteryModal('wilson')" style="cursor: pointer; transition: all 0.2s;">
            <strong style="color: #fbbf24;">ğŸ” å¨å°”é€Šå¤±è¸ª</strong> - ç¬¬ä¸‰å¤©
        </div>
        <div class="clue-item" onclick="openMysteryModal('insurance')" style="cursor: pointer; transition: all 0.2s;">
            <strong style="color: #fbbf24;">ğŸ’° æ±¤æ™®æ£®çš„ç§˜å¯†</strong> - ä¿é™©å•
        </div>
        <div class="clue-item" onclick="openMysteryModal('ritual')" style="cursor: pointer; transition: all 0.2s;">
            <strong style="color: #fbbf24;">ğŸ•¯ï¸ 1987å¹´ä»ªå¼</strong> - ä¸ƒä¸ªåå­—
        </div>
        <div class="clue-item" onclick="openMysteryModal('caves')" style="cursor: pointer; transition: all 0.2s;">
            <strong style="color: #fbbf24;">ğŸ—ºï¸ æ°´ä¸‹æ´ç©´</strong> - ç¬¦å·
        </div>
        <div class="clue-item" onclick="openMysteryModal('locked')" style="cursor: pointer; transition: all 0.2s; background: rgba(239, 68, 68, 0.2);">
            <strong style="color: #ef4444;">ğŸ”’ é”å®šæ–‡ä»¶</strong> - éœ€è¦å¯†ç 
        </div>
    </div>
</div>

    <div id="playerMarker">â¬‡</div>
    
    <audio id="bgMusic" loop>
        <source src="https://res.cloudinary.com/dpogkjjow/video/upload/v1760389843/suspense_music_cq3dlr.mp3" type="audio/mpeg">
    </audio>
    
    <div id="characterPanel"></div>
    
    <div id="infoButton">
        <span>?</span>
    </div>
    
    <a href="https://twitter.com/your_handle" target="_blank" class="social-button" id="twitterButton">
        <img src="https://static.wixstatic.com/media/e2da02_75efd7a093fd4113a9662b914a541af9~mv2.jpg" alt="Twitter/X">
    </a>
    
    <a href="https://pump.fun/your_token" target="_blank" class="social-button" id="pumpButton">
        <img src="https://static.wixstatic.com/media/e2da02_248e6293fa024f6e9dd4130271bb14c3~mv2.png" alt="Pump.fun">
    </a>
    
    <a href="https://github.com/your_repo" target="_blank" class="social-button" id="githubButton">
        <img src="https://static.wixstatic.com/media/e2da02_54130f69a18e424cb3f9e81f6d12aaab~mv2.png" alt="Github">
    </a>
    
    <div id="modalOverlay"></div>
    
    <div id="mysteryModal">
        <div class="mystery-modal-header">
            <div class="mystery-modal-title" id="mysteryModalTitle">Mystery Details</div>
            <div id="closeMysteryModal">Ã—</div>
        </div>
        <div class="mystery-modal-content" id="mysteryModalContent">
        </div>
    </div>
    
    <div id="characterModal">
        <div class="char-modal-header">
            <div class="char-modal-title" id="charModalName">Character Name</div>
            <div id="closeCharModal">Ã—</div>
        </div>
        <div class="char-modal-content">
            <div class="char-profile-section">
                <div class="char-avatar">
                    <canvas id="charAvatarCanvas" width="100" height="100"></canvas>
                </div>
                <div class="char-info">
                    <div class="char-description" id="charDescription">
                        Character description goes here...
                    </div>
                </div>
            </div>
            
<div class="awareness-section">
    <div class="awareness-label">æ„è¯†æ°´å¹³</div>
    <div class="awareness-bar">
        <div class="awareness-fill" id="awarenessFill" style="width: 0%"></div>
        <div class="awareness-text" id="awarenessText">0%</div>
    </div>
</div>
            
            <div class="conversations-section" id="conversationsSection">
            </div>
        </div>
    </div>
<div id="infoModal">
    <div id="closeModal">Ã—</div>
    <div class="modal-header">æ¬¢è¿æ¥åˆ°å‡¯æ©å²›</div>
    
    <div class="modal-section">
        <div class="modal-section-title">å…³äºé¡¹ç›®</div>
        <div class="modal-content">
            æ¬¢è¿æ¥åˆ°å‡¯æ©å²›â€”â€”ä¸€ä¸ªæ²‰æµ¸å¼äº’åŠ¨è°œé¢˜æ¸¸æˆï¼Œæ‚¨å¯ä»¥æ¢ç´¢ä¸€ä¸ªå……æ»¡ç§˜å¯†ã€é˜´è°‹å’Œé»‘æš—è°‹æ€è°œå›¢çš„é²œæ´»å²›å±¿ã€‚è¿™æ˜¯ä¸€ä¸ªå®Œå…¨å®ç°çš„ä¸–ç•Œï¼ŒAIé©±åŠ¨çš„è§’è‰²è‡ªç”±æ¼«æ¸¸ï¼Œæ¯ä¸ªäººéƒ½éšè—ç€å…³äºè€å¨å°”é€Šå¤±è¸ªçš„ç§˜å¯†ã€‚
        </div>
    </div>
    
    <div class="modal-section">
        <div class="modal-section-title">è°œå›¢</div>
        <div class="modal-content">
            è€å¨å°”é€Šæ¶ˆå¤±å¾—æ— å½±æ— è¸ªã€‚å²›ä¸Šç•™ä¸‹ä¸ƒä¸ªå«Œç–‘äººï¼Œæ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„åŠ¨æœºã€ä¸åœ¨åœºè¯æ˜å’Œç§˜å¯†ã€‚æ¢ç´¢å²›å±¿ï¼Œé˜…è¯»è§’è‰²å¯¹è¯ï¼Œè§£é”è°œå›¢æ–‡ä»¶ï¼ŒæŠ•ç¥¨é€‰å‡ºä½ è®¤ä¸ºæœ‰ç½ªçš„äººã€‚ä½ èƒ½åœ¨æ—¶é—´è€—å°½å‰ç ´æ¡ˆå—ï¼Ÿ
        </div>
    </div>
    
    <div class="modal-section">
        <div class="modal-section-title">ğŸ“œ å²›å±¿ä¼ è¯´ä¸èƒŒæ™¯æ•…äº‹</div>
        <div class="modal-content">
            <strong>å²›å±¿çš„é»‘æš—å†å²ï¼š</strong><br><br>
            
            å‡¯æ©å²›ä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„å²›å±¿ã€‚ä¸€ä¸ªå¤šä¸–çºªä»¥æ¥ï¼Œå®ƒä¸€ç›´è¢«ç¥ç§˜å¤±è¸ªæ‰€å›°æ‰°â€”â€”æ€»æ˜¯åœ¨ç§‹åˆ†æœŸé—´ï¼Œæ€»æ˜¯ä»¥13å¹´ä¸ºå‘¨æœŸã€‚å½“åœ°äººä½å£°è°ˆè®ºå¤è€çš„ä»ªå¼ã€è¢«è¯…å’’çš„çŸ³åœˆï¼Œä»¥åŠåœ¨æ»¡æœˆæ—¶å‘å‡ºä¸è‡ªç„¶å…‰èŠ’çš„æ°´ä¸‹æ´ç©´ã€‚<br><br>
            
            <strong>1987å¹´ä»ªå¼ï¼š</strong><br><br>
            
            ä¸€åˆ‡åœ¨1987å¹´å‘ç”Ÿäº†å˜åŒ–ã€‚ä¸ƒä¸ªç»æœ›çš„å²›æ°‘â€”â€”è´Ÿå€ºç´¯ç´¯ï¼Œé¢ä¸´ç ´äº§â€”â€”èšé›†åœ¨å¤è€çš„çŸ³åœˆã€‚ä»–ä»¬ä¸¾è¡Œäº†è¡€ç¥­ä»ªå¼ï¼Œå‘ä»–ä»¬ä¸ç†è§£çš„åŠ›é‡å¯»æ±‚ç¹è£ã€‚ä»ªå¼å¥æ•ˆäº†...ä½†è¦æ±‚äº†ä»£ä»·ã€‚ä¸€ä¸ªäººå¿…é¡»æ­»ï¼Œå…¶ä»–äººæ‰èƒ½ç¹è£ã€‚ä»–ä»¬æŠ½ç­¾ã€‚æ±¤æ™®æ£®çš„å¼Ÿå¼Ÿè¾“äº†ã€‚<br><br>
            
            é‚£æ™šåªæœ‰ä¸¤ä¸ªäººæ´»äº†ä¸‹æ¥ï¼šä¸€ä¸ªåå«æ±¤æ™®æ£®çš„å¹´è½»å•†äººï¼Œå’Œæ­¦çš„ç¥–çˆ¶ã€‚å…¶ä»–äººï¼Ÿä»–ä»¬å°±è¿™ä¹ˆæ¶ˆå¤±äº†ã€‚ä½†æ±¤æ™®æ£®çš„å‘½è¿ä¸€å¤œä¹‹é—´æ”¹å˜äº†ã€‚å‡ ä¸ªæœˆå†…ï¼Œä»–æ‹¥æœ‰äº†å²›å±¿çš„ä¸€åŠã€‚å¹¸å­˜è€…ç«‹ä¸‹äº†èª“è¨€ï¼šæ°¸è¿œä¸è¦è¯´èµ·å‘ç”Ÿçš„äº‹ã€‚æ°¸è¿œä¸è¦å›åˆ°çŸ³å¤´é‚£é‡Œã€‚æ°¸è¿œï¼Œæ°¸è¿œä¸è¦æ·±å…¥è°ƒæŸ¥è¿‡å»ã€‚<br><br>
            
            <strong>ä¸ƒä¸ªå±…æ°‘ï¼š</strong><br><br>
            
            ç°åœ¨ï¼Œå‡ åå¹´åï¼Œå‡¯æ©å²›ä¸Šè¿˜å‰©ä¸ƒä¸ªäººâ€”â€”æ¯ä¸ªäººéƒ½å› ç§˜å¯†ã€å€ºåŠ¡æˆ–è¡€ç»Ÿè€Œè¢«æŸç¼šåœ¨å²›ä¸Šã€‚æ±¤æ™®æ£®æˆä¸ºäº†å²›ä¸Šæœ€å¯Œæœ‰çš„äººï¼Œä½†ä»–çš„è´¢å¯Œå»ºç«‹åœ¨é™©æ¶çš„åŸºç¡€ä¸Šã€‚å¨å°”é€Šï¼Œæœ€å¹´é•¿çš„æ¸”å¤«ï¼ŒèŠ±äº†å¤šå¹´æ—¶é—´è°ƒæŸ¥å¤±è¸ªçš„æ¨¡å¼ã€‚ä»–å‘ç°äº†å¨èƒè¦æ­éœ²ä¸€åˆ‡çš„ä¸œè¥¿ã€‚<br><br>
            
            ä¸‰å¤©å‰ï¼Œå¨å°”é€Šæ¶ˆå¤±äº†ã€‚ä»–çš„å’–å•¡è¿˜æ˜¯æ¸©çš„ã€‚ä»–çš„æ—¥è®°ç¿»åˆ°æœªå®Œæˆçš„ä¸€å¥è¯ï¼š"å»å¯¹è´¨â€”â€”"<br><br>
            
            <strong>çœŸç›¸ï¼š</strong><br><br>
            
            æ²¡æœ‰è¯…å’’ã€‚æ²¡æœ‰è¶…è‡ªç„¶åŠ›é‡ã€‚åªæœ‰ä¸€ä¸ªå‘ç°ä¼ªè£…æˆè°œå›¢çš„è°‹æ€æ˜¯æœ‰åˆ©å¯å›¾çš„äººã€‚50å¹´æ¥ï¼Œæ±¤æ™®æ£®ä¸€ç›´åœ¨æ¶ˆé™¤ä»»ä½•å¨èƒä»–å¸å›½çš„äººâ€”â€”ç”¨ä»ªå¼ä¼ è¯´ä½œä¸ºæ©æŠ¤ã€‚ä¿é™©æ¬ºè¯ˆã€‚éæ³•è´·æ¬¾ã€‚å‹’ç´¢ã€‚ç°åœ¨ï¼Œæœ€åä¸€æ¬¡è°‹æ€ï¼Œæ°¸è¿œåŸ‹è‘¬ä»–çš„ç§˜å¯†ã€‚<br><br>
            
            å²›å±¿ä¸ç´¢å–ç¥­å“ã€‚æ±¤æ™®æ£®ç´¢å–ã€‚
        </div>
    </div>
    
    <div class="modal-section">
        <div class="modal-section-title">å½“å‰åŠŸèƒ½</div>
        <div class="modal-content">
            <ul>
                <li><strong>âœ“ é²œæ´»ä¸–ç•Œï¼š</strong>7ä¸ªä¸»è¦è§’è‰² + 10åªç¾Šåœ¨å²›ä¸Šæ¼«æ¸¸ï¼Œå…·æœ‰ç‹¬ç‰¹çš„AIè¡Œä¸º</li>
                <li><strong>âœ“ æ·±åº¦ä¼ è¯´ï¼š</strong>è¶…è¿‡50+è§’è‰²å¯¹è¯æ­ç¤ºåŠ¨æœºã€ç§˜å¯†å’Œè¯æ®</li>
                <li><strong>âœ“ è°œå›¢ç³»ç»Ÿï¼š</strong>5ä¸ªä¸»è¦è°œå›¢éœ€è¦è°ƒæŸ¥ï¼ŒåŒ…æ‹¬å¯†ç ä¿æŠ¤çš„æ–‡ä»¶</li>
                <li><strong>âœ“ æŠ•ç¥¨æœºåˆ¶ï¼š</strong>å®æ—¶ç¤¾åŒºæŠ•ç¥¨ï¼Œ8åˆ†é’Ÿå€’è®¡æ—¶</li>
                <li><strong>âœ“ è§’è‰²æ¡£æ¡ˆï¼š</strong>æŸ¥çœ‹æ„è¯†æ°´å¹³å’Œå®Œæ•´å¯¹è¯è®°å½•</li>
                <li><strong>âœ“ äº’åŠ¨åœ°å›¾ï¼š</strong>å®Œå…¨å¯æ¢ç´¢çš„å²›å±¿ï¼Œå¸¦ç¢°æ’æ£€æµ‹</li>
            </ul>
        </div>
    </div>
    
    <div class="modal-section">
        <div class="modal-section-title">ğŸš€ è·¯çº¿å›¾ - å³å°†æ¨å‡º</div>
        <div class="modal-content">
            <ul>
                <li><strong>ç¬¬2-7å¤©ç³»ç»Ÿï¼š</strong>è°œå›¢æ¯å¤©æ¼”å˜ã€‚æ–°çº¿ç´¢å‡ºç°ã€‚è§’è‰²è®°ä½ä½ çš„äº’åŠ¨ã€‚ä¹‹å‰çš„æŠ•ç¥¨å½±å“æœªæ¥äº‹ä»¶ã€‚å²›å±¿æ ¹æ®ç¤¾åŒºå†³å®šè€Œæ”¹å˜ã€‚</li>
                <li><strong>å®æ—¶AIå¯¹è¯ï¼š</strong>ç›´æ¥ä¸ä»»ä½•è§’è‰²å®æ—¶äº¤è°ˆã€‚ä»–ä»¬ä¼šè®°ä½ä½ è¯´çš„è¯ï¼Œæ ¹æ®ä»–ä»¬çš„ä¸ªæ€§å›åº”ï¼Œå¦‚æœä½ é—®å¯¹é—®é¢˜å¯èƒ½ä¼šé€éœ²ç§˜å¯†ã€‚</li>
                <li><strong>åŠ¨æ€åæœï¼š</strong>æŠ•é”™ç¥¨ï¼Ÿé¢å¯¹åæœã€‚è§’è‰²æ­»äº¡ã€‚æ–°è°œå›¢è§£é”ã€‚å²›å±¿è®°ä½ã€‚æ¯ä¸ªé€‰æ‹©éƒ½æ°¸ä¹…æ”¹å˜ä¸–ç•Œã€‚</li>
                <li><strong>å¯è§£é”åœ°ç‚¹ï¼š</strong>å‘ç°éšè—åŒºåŸŸâ€”â€”ç¯å¡”ã€æ°´ä¸‹æ´ç©´ã€æ±¤æ™®æ£®çš„è±ªå®…ã€çŸ³åœˆã€‚æ¯ä¸ªåœ°ç‚¹éƒ½æœ‰æ”¹å˜ä¸€åˆ‡çš„è¯æ®ã€‚</li>
                <li><strong>è§’è‰²å…³ç³»ï¼š</strong>è§‚å¯Ÿå…³ç³»æ¼”å˜ã€‚è”ç›Ÿå½¢æˆã€‚èƒŒå›å‘ç”Ÿã€‚è§’è‰²å¯¹æŠ•ç¥¨åšå‡ºååº”å¹¶å®æ—¶äº’ç›¸æŒ‡è´£ã€‚</li>
                <li><strong>å¤šé‡ç»“å±€ï¼š</strong>ä½ çš„æŠ•ç¥¨å†³å®šè°ç”Ÿå­˜ã€‚åŸºäºä½ æ¶ˆé™¤è°å’Œå‘ç°ä»€ä¹ˆçš„7+ä¸åŒç»“å±€ã€‚ä½ èƒ½æ‹¯æ•‘æ— è¾œè€…å—ï¼Ÿ</li>
                <li><strong>é…éŸ³å’Œè¿‡åœºåŠ¨ç”»ï¼š</strong>å®Œå…¨é…éŸ³å¯¹è¯ã€‚åŠ¨ç”»è¿‡åœºåŠ¨ç”»æ­ç¤ºå…³é”®æ—¶åˆ»ã€‚ç›®ç¹è°‹æ€ã€ä»ªå¼å’Œå¯¹æŠ—ã€‚</li>
                <li><strong>NFTé›†æˆï¼š</strong>æ‹¥æœ‰ä½ çš„è§’è‰²ã€‚ä½ çš„é€‰æ‹©åœ¨é“¾ä¸Šæ°¸ä¹…åŒ–ã€‚äº¤æ˜“è¯æ®ã€‚ç”¨ä»£å¸æŠ•ç¥¨ã€‚åŒºå—é“¾è®°ä½ä¸€åˆ‡ã€‚</li>
                <li><strong>ç¤¾åŒºäº‹ä»¶ï¼š</strong>å®æ—¶å²›å±¿èŒƒå›´äº‹ä»¶ã€‚é£æš´æ­ç¤ºéšè—è¯æ®ã€‚æ»¡æœˆä»ªå¼ã€‚ç´§æ€¥å¸‚æ”¿ä¼šè®®ï¼Œæ¯ä¸ªäººä¸€èµ·æŠ•ç¥¨ã€‚</li>
                <li><strong>é€ƒç¦»ï¼š</strong>æœ€ç»ˆç« â€”â€”è¯†åˆ«å‡¶æ‰‹ï¼Œæ”¶é›†è¯æ®ï¼Œå¯¹æŠ—ä»–ä»¬ï¼Œé€ƒç¦»å²›å±¿...æˆ–æˆä¸ºä¸‹ä¸€ä¸ªå—å®³è€…ã€‚</li>
            </ul>
        </div>
    </div>
    
    <div class="modal-section">
        <div class="modal-section-title">å¦‚ä½•ç©</div>
        <div class="modal-content">
            <ul>
                <li><strong>å¯¼èˆªï¼š</strong>ä½¿ç”¨æ–¹å‘é”®ï¼ˆWASDï¼‰æˆ–æ‹–åŠ¨åœ°å›¾æ¢ç´¢æ•´ä¸ªå²›å±¿</li>
                <li><strong>è§’è‰²é€‰æ‹©ï¼š</strong>ç‚¹å‡»åº•éƒ¨çš„è§’è‰²è‚–åƒç«‹å³è·³è½¬åˆ°ä»–ä»¬çš„ä½ç½®</li>
                <li><strong>è§’è‰²æ¡£æ¡ˆï¼š</strong>ç›´æ¥ç‚¹å‡»è§’è‰²æŸ¥çœ‹ä»–ä»¬çš„æ¡£æ¡ˆã€æ„è¯†æ°´å¹³å’Œå®Œæ•´å¯¹è¯å†å²</li>
                <li><strong>å°åœ°å›¾ï¼š</strong>ç‚¹å‡»å°åœ°å›¾ä¸Šçš„ä»»ä½•ä½ç½®å¿«é€Ÿç§»åŠ¨åˆ°è¯¥åœ°ç‚¹</li>
                <li><strong>è°œå›¢çº¿ç´¢ï¼š</strong>ç‚¹å‡»å·¦ä¸Šè§’çº¿ç´¢æ¡†ä¸­çš„ä»»ä½•è°œå›¢è°ƒæŸ¥è¯æ®å’Œè°œè¯­</li>
                <li><strong>é”å®šæ–‡ä»¶ï¼š</strong>åœ¨è§’è‰²å¯¹è¯ä¸­æ‰¾åˆ°éšè—çš„å¯†ç ä»¥è§£é”å…³é”®è¯æ®</li>
                <li><strong>æŠ•ç¥¨ï¼š</strong>åœ¨8åˆ†é’Ÿè®¡æ—¶å™¨åˆ°æœŸå‰åœ¨å³ä¾§é¢æ¿æŠ•å‡ºä½ çš„é€‰ç¥¨</li>
            </ul>
        </div>
    </div>
    
    <div class="modal-section">
        <div class="modal-section-title">å«Œç–‘äºº</div>
        <div class="modal-content">
            <strong>èæ‹‰</strong> - ä¸€ä½ç†Ÿæ‚‰å²›å±¿çš„å‹å¥½æ‘æ°‘ã€‚ä½†å¥¹çŸ¥é“å¾—å¤ªå¤šäº†å—ï¼Ÿ<br><br>
            <strong>é©¬åº“æ–¯</strong> - ä¿æŠ¤å²›å±¿çš„å‹‡æ•¢æˆ˜å£«ã€‚è¿˜æ˜¯ä»–åœ¨ä¿æŠ¤åˆ«çš„ä¸œè¥¿ï¼Ÿ<br><br>
            <strong>æ°å…‹</strong> - æœ‰æ•…äº‹å¯è®²çš„å½“åœ°æ¸”å¤«ã€‚è¿˜æœ‰è¦éšè—çš„å€ºåŠ¡ã€‚<br><br>
            <strong>ä¼¯å°¼</strong> - ä¸ºå˜é©è€Œæˆ˜çš„æ¿€æƒ…æ´»åŠ¨å®¶ã€‚ä½†æŒªç”¨ææ¬¾å»èµŒåšï¼Ÿ<br><br>
            <strong>æŸ´çŠ¬</strong> - åœ¨å²›ä¸Šæ¢é™©çš„å¿ è¯šç‹—ã€‚å®ƒä¸€ç›´å‘ç°ä»¤äººä¸å®‰çš„è¯æ®...<br><br>
            <strong>æ­¦</strong> - ç»è¥å•†å“è´¸æ˜“çš„ä¼ ç»Ÿå•†äººã€‚ç”¨ç§˜å¯†äº¤æ˜“æ¯æœˆ1ä¸‡ç¾å…ƒã€‚<br><br>
            <strong>æ±¤æ™®æ£®å…ˆç”Ÿ</strong> - æœ‰è®¸å¤šç§˜å¯†çš„è€å•†äººã€‚æœ€å¯ç–‘çš„ä¸€ä¸ªã€‚
        </div>
    </div>
    
    <div class="modal-section">
        <div class="modal-section-title">è§£è°œæç¤º</div>
        <div class="modal-content">
            <ul>
                <li>é˜…è¯»æ‰€æœ‰è§’è‰²å¯¹è¯â€”â€”å…³é”®çº¿ç´¢éšè—åœ¨æ•´ä¸ªå¯¹è¯ä¸­</li>
                <li>å¯»æ‰¾è¯æ®ä¸­çš„æ¨¡å¼â€”â€”æ—¥æœŸã€æ•°å­—å’Œç¬¦å·å¾ˆé‡è¦</li>
                <li>è§£é”å¨å°”é€Šè¯æ®çš„å¯†ç éšè—åœ¨å¯¹è¯ä¸­</li>
                <li>æ³¨æ„è°ä»å¨å°”é€Šçš„å¤±è¸ªä¸­è·ç›Šæœ€å¤š</li>
                <li>ä¸æ˜¯æ¯ä¸ªäººéƒ½åœ¨æ’’è°ï¼Œä½†æ¯ä¸ªäººéƒ½åœ¨éšè—äº›ä»€ä¹ˆ</li>
                <li>1987å¹´ä»ªå¼æ˜¯ç†è§£æ¨¡å¼çš„å…³é”®</li>
            </ul>
        </div>
    </div>
    
    <div class="modal-section">
        <div class="modal-section-title">ğŸ” ä¸“ä¸šæç¤º - é«˜çº§ç­–ç•¥</div>
        <div class="modal-content">
            <ul>
                <li><strong>è·Ÿç€é’±èµ°ï¼š</strong>è°ä»å¨å°”é€Šçš„æ­»äº¡ä¸­è·å¾—ç»æµåˆ©ç›Šï¼Ÿåœ¨æ•´ä¸ªå¯¹è¯ä¸­å¯»æ‰¾ä¿é™©å•ã€è´¢äº§æ‰€æœ‰æƒå˜æ›´å’Œæœªå¿å€ºåŠ¡ã€‚</li>
                <li><strong>è§‚å¯ŸåŠ¨ç‰©è¡Œä¸ºï¼š</strong>åŠ¨ç‰©å¸¸å¸¸æ„ŸçŸ¥åˆ°äººç±»é”™è¿‡çš„ä¸œè¥¿ã€‚æ³¨æ„ç‹—é¿å¼€è°ã€æ”»å‡»è°ï¼Œä»¥åŠå®ƒä¸€ç›´å‘ç°ä»€ä¹ˆè¯æ®ã€‚</li>
                <li><strong>å¯»æ‰¾æ¨¡å¼ï¼š</strong>æŸäº›æ•°å­—å’Œæ—¥æœŸä¸æ–­å‡ºç°ã€‚å½“äº‹ä»¶ä»¥ç‰¹å®šé—´éš”é‡å¤æ—¶ï¼Œå¾ˆå°‘æ˜¯å·§åˆã€‚</li>
                <li><strong>æ¯ä¸ªäººéƒ½æœ‰ç§˜å¯†ï¼š</strong>æ¯ä¸ªè§’è‰²éƒ½åœ¨éšè—äº›ä»€ä¹ˆã€‚æœ‰äº›äººéšè—å°ç½ªè¡Œã€‚ä¸€ä¸ªäººéšè—è°‹æ€ã€‚åŒºåˆ†æœ‰ç½ªè¡Œä¸ºå’Œå®é™…ç½ªè¡Œã€‚</li>
                <li><strong>å¯†ç æ˜¯éšè—çš„ï¼š</strong>é”å®šæ–‡ä»¶åŒ…å«ç¡®å‡¿è¯æ®ã€‚å¯†ç åœ¨å¯¹è¯ä¸­çš„æŸå¤„è¢«æåŠâ€”â€”å¯»æ‰¾ä¸å¯»å¸¸çš„å•è¯æˆ–æ•°å­—ç»„åˆã€‚</li>
                <li><strong>äº¤å‰å‚è€ƒæ•…äº‹ï¼š</strong>æ¯”è¾ƒä¸åŒè§’è‰²å¯¹åŒä¸€äº‹ä»¶çš„è¯´æ³•ã€‚è°åœ¨æ’’è°ï¼Ÿè°åœ¨è¯´éƒ¨åˆ†çœŸç›¸ï¼ŸçŸ›ç›¾æ­ç¤ºæ„å›¾ã€‚</li>
                <li><strong>æ—¶é—´å°±æ˜¯è¯æ®ï¼š</strong>å¯¹è¯ä¸Šçš„æ—¶é—´æˆ³å¾ˆé‡è¦ã€‚è°åœ¨ä»€ä¹ˆæ—¶å€™åœ¨å“ªé‡Œï¼Ÿè°å£°ç§°æœ‰ä¸ç¬¦åˆæ—¶é—´çº¿çš„ä¸åœ¨åœºè¯æ˜ï¼Ÿ</li>
                <li><strong>åŠ¨æœºvsæœºä¼šï¼š</strong>è®¸å¤šäººæœ‰ç†ç”±æƒ³è®©å¨å°”é€Šæ¶ˆå¤±ã€‚ä½†åªæœ‰ä¸€ä¸ªäººæ—¢æœ‰æ‰‹æ®µåˆæœ‰å†å²çœŸæ­£è¿™ä¹ˆåšã€‚æƒ³å¾—æ›´å¤§ï¼Œä¸ä»…ä»…æ˜¯è¿™æ¬¡è°‹æ€ã€‚</li>
            </ul>
        </div>
    </div>
    
    <div class="modal-section">
        <div class="modal-section-title">â“ å¸¸è§é—®é¢˜</div>
        <div class="modal-content">
            <ul>
                <li><strong>æˆ‘å¯ä»¥æ”¹å˜æˆ‘çš„æŠ•ç¥¨å—ï¼Ÿ</strong>ä¸å¯ä»¥ï¼Œä¸€æ—¦æŠ•ç¥¨å°±é”å®šäº†ã€‚è¯·è°¨æ…é€‰æ‹©ï¼</li>
                <li><strong>è®¡æ—¶å™¨ç»“æŸæ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</strong>æŠ•ç¥¨å…³é—­ï¼Œåˆ¤å†³æ­æ™“ã€‚è·å¾—æœ€å¤šç¥¨çš„è§’è‰²è¢«å®£å¸ƒæœ‰ç½ªï¼Œåæœå°†åœ¨æœªæ¥å‡ å¤©å±•å¼€ã€‚</li>
                <li><strong>å¦‚ä½•è§£é”å¯†ç ä¿æŠ¤æ–‡ä»¶ï¼Ÿ</strong>å¯†ç éšè—åœ¨æŸä¸ªè§’è‰²å¯¹è¯ä¸­ã€‚å¯»æ‰¾æåŠå¹´ä»½å’Œä»ªå¼çš„å†…å®¹ã€‚æç¤ºï¼šæŸ¥çœ‹æ­¦æˆ–æŸ´çŠ¬å‘ç°äº†ä»€ä¹ˆã€‚</li>
                <li><strong>æ„è¯†æ°´å¹³æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</strong>æ¯ä¸ªè§’è‰²éƒ½æœ‰ä¸€ä¸ªæ„è¯†æ°´å¹³ï¼ˆ0-100%ï¼‰ï¼Œæ˜¾ç¤ºä»–ä»¬å¯¹è°œå›¢äº†è§£å¤šå°‘ã€‚æ„è¯†è¶Šé«˜=å¯¹å‡¶æ‰‹è¶Šå±é™©ã€‚</li>
                <li><strong>ä¼šæœ‰æ›´å¤šå¤©/å‰§é›†å—ï¼Ÿ</strong>ä¼šçš„ï¼è¿™æ˜¯ç¬¬ä¸€å¤©ã€‚æœªæ¥æ›´æ–°å°†æ·»åŠ ç¬¬2-7å¤©ï¼ŒåŒ…æ‹¬æ–°è°œå›¢ã€è§’è‰²æ­»äº¡ï¼Œä»¥åŠåŸºäºä½ çš„æŠ•ç¥¨çš„æ¼”å˜æ•…äº‹çº¿ã€‚</li>
                <li><strong>æˆ‘å¯ä»¥åœ¨æ‰‹æœºä¸Šç©å—ï¼Ÿ</strong>æ¸¸æˆåœ¨æ‰‹æœºä¸Šå¯ä»¥è¿è¡Œï¼Œä½†ä¸ºæ¡Œé¢ä¼˜åŒ–ã€‚æ‰‹æœºæ”¹è¿›å°†åœ¨æœªæ¥æ›´æ–°ä¸­æ¨å‡ºã€‚</li>
                <li><strong>çœŸçš„æœ‰æ­£ç¡®ç­”æ¡ˆå—ï¼Ÿ</strong>æœ‰çš„ã€‚å¨å°”é€Šç•™ä¸‹äº†è¯æ˜è°æ˜¯å‡¶æ‰‹çš„è¯æ®ã€‚è§£é”å¯†ç ä¿æŠ¤æ–‡ä»¶ä»¥æŸ¥çœ‹çœŸç›¸ã€‚</li>
                <li><strong>å¦‚æœæˆ‘æŠ•é”™äººæ€ä¹ˆåŠï¼Ÿ</strong>æ— è¾œè€…å¯èƒ½ä¼šæ­»ã€‚çœŸæ­£çš„å‡¶æ‰‹ä»ç„¶é€é¥æ³•å¤–ã€‚ä½ çš„é€‰æ‹©åœ¨æœªæ¥å‰§é›†ä¸­ä¼šæœ‰åæœã€‚</li>
            </ul>
        </div>
    </div>
    
</div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const loading = document.getElementById('loading');
        const minimapCanvas = document.getElementById('minimapCanvas');
        const minimapCtx = minimapCanvas.getContext('2d');
        const minimapViewport = document.getElementById('minimapViewport');
        const playerDot = document.getElementById('playerDot');
        const playerMarker = document.getElementById('playerMarker');
        
        // Background Music Setup
        const bgMusic = document.getElementById('bgMusic');
        bgMusic.volume = 0.5; // 50% volume
        let musicStarted = false;
        
        function startMusic() {
            if (!musicStarted) {
                bgMusic.play().catch(e => console.log('Music autoplay prevented:', e));
                musicStarted = true;
            }
        }
        
        // Start music on any user interaction
        document.addEventListener('click', startMusic, { once: true });
        document.addEventListener('keydown', startMusic, { once: true });
        canvas.addEventListener('mousedown', startMusic, { once: true });
        
        let selectedCharacter = null;
        
        const sidePanelWidth = 300;
        canvas.width = window.innerWidth - sidePanelWidth;
        canvas.height = window.innerHeight;
        
        const camera = {
            x: 0,
            y: 0,
            speed: 5
        };
        
        const player = {
            x: 0,
            y: 0
        };
        
        let scale = 1;
        let worldWidth = 0;
        
        const keys = {};
        let isDragging = false;
        let dragStart = { x: 0, y: 0 };
        
        let waterOffset = 0;
        let worldHeight = 0;
        
        const worldImage = new Image();
        worldImage.crossOrigin = "anonymous";
        
        let collisionCanvas = null;
        let collisionCtx = null;
        
        const femaleSprite = new Image();
        const maleSprite = new Image();
        const warriorSprite = new Image();
        const sheep1Sprite = new Image();
        const sheep2Sprite = new Image();
        const sheep3Sprite = new Image();
        const sheep4Sprite = new Image();
        const sheep5Sprite = new Image();
        const shibaSprite = new Image();
        const japaneseSprite = new Image();
        const businessmanSprite = new Image();
        const bernieSprite = new Image();
        
        const SPRITE_WIDTH = 24;
        const SPRITE_HEIGHT = 32;
        const FRAMES_PER_ANIMATION = 8;
        
        const SHEEP_WIDTH = 40;
        const SHEEP_HEIGHT = 30;
        
        const characters = [];
        
        let imagesLoaded = 0;
        const totalImages = 13;
        const loadStartTime = Date.now();
        const minimumLoadTime = 3000; // 3 seconds minimum
        
        function checkImagesLoaded() {
            imagesLoaded++;
            console.log('Image loaded! Total:', imagesLoaded);
            if (imagesLoaded === totalImages) {
                const elapsedTime = Date.now() - loadStartTime;
                const remainingTime = Math.max(0, minimumLoadTime - elapsedTime);
                
                // Wait for minimum load time, then fade out
                setTimeout(() => {
                    loading.classList.add('hidden');
                }, remainingTime + 500);
                
                worldWidth = worldImage.width;
                worldHeight = worldImage.height;
                
                console.log('Starting game with world:', worldWidth, 'x', worldHeight);
                
                scale = canvas.width / worldWidth;
                
                camera.y = 0;
                camera.x = 0;
                
                updatePlayerPosition();
                
                createCharacters();
                createCharacterPanel();
                
                console.log('Characters created:', characters.length);
                characters.forEach(char => {
                    console.log(char.name, 'speed:', char.speed, 'direction:', char.direction);
                });
                
                collisionCanvas = document.createElement('canvas');
                collisionCanvas.width = worldWidth;
                collisionCanvas.height = worldHeight;
                collisionCtx = collisionCanvas.getContext('2d');
                collisionCtx.drawImage(worldImage, 0, 0);
                
                const minimapWidth = 150;
                const aspectRatio = worldHeight / worldWidth;
                const minimapHeight = minimapWidth * aspectRatio;
                
                minimapCanvas.width = minimapWidth;
                minimapCanvas.height = minimapHeight;
                
                document.getElementById('minimap').style.height = minimapHeight + 'px';
                
                gameLoop();
            }
        }
        
        worldImage.onload = checkImagesLoaded;
        femaleSprite.onload = checkImagesLoaded;
        maleSprite.onload = checkImagesLoaded;
        warriorSprite.onload = checkImagesLoaded;
        sheep1Sprite.onload = checkImagesLoaded;
        sheep2Sprite.onload = checkImagesLoaded;
        sheep3Sprite.onload = checkImagesLoaded;
        sheep4Sprite.onload = checkImagesLoaded;
        sheep5Sprite.onload = checkImagesLoaded;
        shibaSprite.onload = checkImagesLoaded;
        japaneseSprite.onload = checkImagesLoaded;
        businessmanSprite.onload = checkImagesLoaded;
        bernieSprite.onload = checkImagesLoaded;
        
        worldImage.onerror = (e) => {
            console.error('Failed to load world map', e);
            loading.textContent = 'Error loading world map!';
        };
        
        femaleSprite.onerror = (e) => { console.error('Failed to load female sprite', e); imagesLoaded++; checkImagesLoaded(); };
        maleSprite.onerror = (e) => { console.error('Failed to load male sprite', e); imagesLoaded++; checkImagesLoaded(); };
        warriorSprite.onerror = (e) => { console.error('Failed to load warrior sprite', e); imagesLoaded++; checkImagesLoaded(); };
        sheep1Sprite.onerror = (e) => { console.error('Failed to load sheep1 sprite', e); imagesLoaded++; checkImagesLoaded(); };
        sheep2Sprite.onerror = (e) => { console.error('Failed to load sheep2 sprite', e); imagesLoaded++; checkImagesLoaded(); };
        sheep3Sprite.onerror = (e) => { console.error('Failed to load sheep3 sprite', e); imagesLoaded++; checkImagesLoaded(); };
        sheep4Sprite.onerror = (e) => { console.error('Failed to load sheep4 sprite', e); imagesLoaded++; checkImagesLoaded(); };
        sheep5Sprite.onerror = (e) => { console.error('Failed to load sheep5 sprite', e); imagesLoaded++; checkImagesLoaded(); };
        shibaSprite.onerror = (e) => { console.error('Failed to load shiba sprite', e); imagesLoaded++; checkImagesLoaded(); };
        japaneseSprite.onerror = (e) => { console.error('Failed to load japanese sprite', e); imagesLoaded++; checkImagesLoaded(); };
        businessmanSprite.onerror = (e) => { console.error('Failed to load businessman sprite', e); imagesLoaded++; checkImagesLoaded(); };
        bernieSprite.onerror = (e) => { console.error('Failed to load bernie sprite', e); imagesLoaded++; checkImagesLoaded(); };
        
        worldImage.src = 'https://static.wixstatic.com/media/e2da02_401161a1d9ff42809f0f35f595897fc1~mv2.png';
        femaleSprite.src = 'https://static.wixstatic.com/media/e2da02_c9c61e45604e4a1bbad4adb2f4744ee2~mv2.png';
        maleSprite.src = 'https://static.wixstatic.com/media/e2da02_8fd0dfab29ed48368d92c2873ac7b162~mv2.png';
        warriorSprite.src = 'https://static.wixstatic.com/media/e2da02_809f4722ee6343b2ab0dcb8a995fefca~mv2.png';
        sheep1Sprite.src = 'https://static.wixstatic.com/media/e2da02_b781d69551614cd4a89a9afa3fc8c58f~mv2.png';
        sheep2Sprite.src = 'https://static.wixstatic.com/media/e2da02_54207982c0054df582af25500d4aecc0~mv2.png';
        sheep3Sprite.src = 'https://static.wixstatic.com/media/e2da02_dabc224409104fb186f2c68a89a5c8a4~mv2.png';
        sheep4Sprite.src = 'https://static.wixstatic.com/media/e2da02_e3b4d4862a6c4a9bb687fa4c6b05e042~mv2.png';
        sheep5Sprite.src = 'https://static.wixstatic.com/media/e2da02_290ce7487f2d417e962a3f5a45e13fca~mv2.png';
        shibaSprite.src = 'https://static.wixstatic.com/media/e2da02_982aa1a550504d3ba27db1d965b9f8ed~mv2.png';
        japaneseSprite.src = 'https://static.wixstatic.com/media/e2da02_979b5a3746e145d6b0c568e2b46d03b1~mv2.png';
        businessmanSprite.src = 'https://static.wixstatic.com/media/e2da02_d51c558682be43f587aa2817c74c3dde~mv2.png';
        bernieSprite.src = 'https://static.wixstatic.com/media/e2da02_a830e2499c4e479dae43dd464f2b35d5~mv2.png';
        
        femaleSprite.crossOrigin = "anonymous";
        maleSprite.crossOrigin = "anonymous";
        warriorSprite.crossOrigin = "anonymous";
        sheep1Sprite.crossOrigin = "anonymous";
        sheep2Sprite.crossOrigin = "anonymous";
        sheep3Sprite.crossOrigin = "anonymous";
        sheep4Sprite.crossOrigin = "anonymous";
        sheep5Sprite.crossOrigin = "anonymous";
        shibaSprite.crossOrigin = "anonymous";
        japaneseSprite.crossOrigin = "anonymous";
        businessmanSprite.crossOrigin = "anonymous";
        bernieSprite.crossOrigin = "anonymous";
        
        function isOnLand(x, y, charType = "human") {
            if (!collisionCtx) return true;
            
            const spriteWidth = charType === "sheep" ? 40 : 24;
            const spriteHeight = charType === "sheep" ? 30 : 32;
            
            const checkPoints = [
                {x: x + spriteWidth/2, y: y + spriteHeight/2}
            ];
            
            for (let point of checkPoints) {
                const px = Math.floor(point.x);
                const py = Math.floor(point.y);
                
                if (px < 0 || py < 0 || px >= worldWidth || py >= worldHeight) {
                    return false;
                }
                
                const pixelData = collisionCtx.getImageData(px, py, 1, 1).data;
                const r = pixelData[0];
                const g = pixelData[1];
                const b = pixelData[2];
                
                if (b > 100) {
                    return false;
                }
            }
            
            return true;
        }
        
        function createCharacters() {
            const safeRegions = [
                {x: 100, y: 100, width: 400, height: 200},
                {x: 600, y: 80, width: 450, height: 250},
                {x: 1100, y: 120, width: 400, height: 200},
                {x: 150, y: 400, width: 350, height: 250},
                {x: 600, y: 450, width: 400, height: 200},
                {x: 1050, y: 400, width: 450, height: 250},
                {x: 200, y: 750, width: 400, height: 300},
                {x: 700, y: 800, width: 350, height: 250},
                {x: 1150, y: 750, width: 350, height: 300},
                {x: 150, y: 1150, width: 400, height: 300},
                {x: 650, y: 1200, width: 400, height: 250},
                {x: 1100, y: 1150, width: 400, height: 300},
                {x: 200, y: 1550, width: 400, height: 300},
                {x: 700, y: 1600, width: 400, height: 250},
                {x: 1150, y: 1550, width: 350, height: 300},
                {x: 250, y: 1950, width: 400, height: 250},
                {x: 750, y: 2000, width: 450, height: 200},
                {x: 1250, y: 1950, width: 350, height: 250}
            ];
            
            function getRandomPositionInRegion(region) {
                let attempts = 0;
                while (attempts < 100) {
                    const testPos = {
                        x: region.x + Math.random() * region.width,
                        y: region.y + Math.random() * region.height
                    };
                    
                    if (isOnLand(testPos.x, testPos.y)) {
                        return testPos;
                    }
                    attempts++;
                }
                
                return {
                    x: region.x + region.width / 2,
                    y: region.y + region.height / 2
                };
            }
            
            let pos = getRandomPositionInRegion(safeRegions[1]);
            characters.push({
                sprite: femaleSprite,
                x: pos.x,
                y: pos.y,
                region: safeRegions[1],
                homeX: pos.x,
                homeY: pos.y,
                roamRange: 2000,
                direction: Math.floor(Math.random() * 4),
                frame: 0,
                frameCounter: 0,
                speed: 0.2 + Math.random() * 0.1,
                directionTimer: 0,
                directionChangeInterval: Math.floor(Math.random() * 150) + 80,
                pauseTimer: 0,
                pauseDuration: 0,
                isPaused: false,
                name: "èæ‹‰",,
                description: "ä¸€ä½ç†Ÿæ‚‰å²›å±¿çš„å‹å¥½æ‘æ°‘ã€‚",
                type: "human"
            });
            
            pos = getRandomPositionInRegion(safeRegions[2]);
            characters.push({
                sprite: warriorSprite,
                x: pos.x,
                y: pos.y,
                region: safeRegions[2],
                homeX: pos.x,
                homeY: pos.y,
                roamRange: 2000,
                direction: Math.floor(Math.random() * 4),
                frame: 0,
                frameCounter: 0,
                speed: 0.18 + Math.random() * 0.12,
                directionTimer: 0,
                directionChangeInterval: Math.floor(Math.random() * 140) + 70,
                pauseTimer: 0,
                pauseDuration: 0,
                isPaused: false,
                name: "é©¬åº“æ–¯",
                description: "ä¿æŠ¤å²›å±¿çš„å‹‡æ•¢æˆ˜å£«ã€‚",
                type: "human"
            });
            
            pos = getRandomPositionInRegion(safeRegions[7]);
            characters.push({
                sprite: maleSprite,
                x: pos.x,
                y: pos.y,
                region: safeRegions[7],
                homeX: pos.x,
                homeY: pos.y,
                roamRange: 2000,
                direction: Math.floor(Math.random() * 4),
                frame: 0,
                frameCounter: 0,
                speed: 0.15 + Math.random() * 0.12,
                directionTimer: 0,
                directionChangeInterval: Math.floor(Math.random() * 160) + 90,
                pauseTimer: 0,
                pauseDuration: 0,
                isPaused: false,
                name: "æ°å…‹",
                description: "æœ‰æ•…äº‹å¯è®²çš„å½“åœ°æ¸”å¤«ã€‚",
                type: "human"
            });
            
            pos = getRandomPositionInRegion(safeRegions[10]);
            characters.push({
                sprite: bernieSprite,
                x: pos.x,
                y: pos.y,
                region: safeRegions[10],
                homeX: pos.x,
                homeY: pos.y,
                roamRange: 2000,
                direction: Math.floor(Math.random() * 4),
                frame: 0,
                frameCounter: 0,
                speed: 0.2 + Math.random() * 0.1,
                directionTimer: 0,
                directionChangeInterval: Math.floor(Math.random() * 170) + 100,
                pauseTimer: 0,
                pauseDuration: 0,
                isPaused: false,
                name: "ä¼¯å°¼",
                description: "ä¸ºå˜é©è€Œæˆ˜çš„æ¿€æƒ…æ´»åŠ¨å®¶ã€‚",
                type: "human"
            });
            
            pos = getRandomPositionInRegion(safeRegions[16]);
            characters.push({
                sprite: shibaSprite,
                x: pos.x,
                y: pos.y,
                region: safeRegions[16],
                homeX: pos.x,
                homeY: pos.y,
                roamRange: 2000,
                direction: Math.floor(Math.random() * 4),
                frame: 0,
                frameCounter: 0,
                speed: 0.22 + Math.random() * 0.12,
                directionTimer: 0,
                directionChangeInterval: Math.floor(Math.random() * 120) + 60,
                pauseTimer: 0,
                pauseDuration: 0,
                isPaused: false,
                name: "æŸ´çŠ¬",
                description: "åœ¨å²›ä¸Šæ¢é™©çš„å¿ è¯šæŸ´çŠ¬ã€‚",,
                type: "human"
            });
            
            pos = getRandomPositionInRegion(safeRegions[14]);
            characters.push({
                sprite: japaneseSprite,
                x: pos.x,
                y: pos.y,
                region: safeRegions[14],
                homeX: pos.x,
                homeY: pos.y,
                roamRange: 2000,
                direction: Math.floor(Math.random() * 4),
                frame: 0,
                frameCounter: 0,
                speed: 0.16 + Math.random() * 0.12,
                directionTimer: 0,
                directionChangeInterval: Math.floor(Math.random() * 180) + 110,
                pauseTimer: 0,
                pauseDuration: 0,
                isPaused: false,
                name: "æ­¦",
                description: "ä¼ ç»Ÿæ—¥æœ¬å•†äººç»è¥å•†å“è´¸æ˜“ã€‚",
                type: "human"
            });
            
            pos = getRandomPositionInRegion(safeRegions[13]);
            characters.push({
                sprite: businessmanSprite,
                x: pos.x,
                y: pos.y,
                region: safeRegions[13],
                homeX: pos.x,
                homeY: pos.y,
                roamRange: 2000,
                direction: Math.floor(Math.random() * 4),
                frame: 0,
                frameCounter: 0,
                speed: 0.14 + Math.random() * 0.1,
                directionTimer: 0,
                directionChangeInterval: Math.floor(Math.random() * 200) + 130,
                pauseTimer: 0,
                pauseDuration: 0,
                isPaused: false,
                name: "æ±¤æ™®æ£®å…ˆç”Ÿ",
                description: "æœ‰è®¸å¤šç§˜å¯†çš„è€å•†äººã€‚",
                type: "human"
            });
            
            const sheepSprites = [sheep1Sprite, sheep2Sprite, sheep3Sprite, sheep4Sprite, sheep5Sprite];
            const sheepColors = ["White", "Brown", "Black", "Gray", "Spotted"];
            const sheepRegionIndices = [15, 14, 12, 11, 9, 8, 6, 5, 4, 3];
            
            let sheepIdx = 0;
            sheepSprites.forEach((sheepSprite, index) => {
                for (let i = 0; i < 2; i++) {
                    const region = safeRegions[sheepRegionIndices[sheepIdx]];
                    pos = getRandomPositionInRegion(region);
                    
                    // Ensure valid starting position for black sheep and all others
                    let validPos = pos;
                    let posAttempts = 0;
                    while (!isOnLand(validPos.x, validPos.y, "sheep") && posAttempts < 50) {
                        validPos = getRandomPositionInRegion(region);
                        posAttempts++;
                    }
                    
                    characters.push({
                        sprite: sheepSprite,
                        x: validPos.x,
                        y: validPos.y,
                        homeX: validPos.x,
                        homeY: validPos.y,
                        region: region,
                        roamRange: 1500,
                        direction: Math.floor(Math.random() * 4),
                        frame: 0,
                        frameCounter: 0,
                        speed: 0.2 + Math.random() * 0.15, // Increased speed range
                        directionTimer: 0,
                        directionChangeInterval: Math.floor(Math.random() * 180) + 100,
                        pauseTimer: 0,
                        pauseDuration: 0,
                        isPaused: false,
                        name: sheepColors[index] + " Sheep",
                        description: "A peaceful " + sheepColors[index].toLowerCase() + " sheep grazing.",
                        type: "sheep"
                    });
                    sheepIdx++;
                }
            });
        }
        
        function updateCharacters() {
            characters.forEach(char => {
                char.directionTimer++;
                
                if (char.directionTimer >= char.directionChangeInterval) {
                    const randomChange = Math.random();
                    if (randomChange < 0.7) {
                        char.direction = Math.floor(Math.random() * 4);
                    } else {
                        char.direction = (char.direction + (Math.random() > 0.5 ? 1 : -1) + 4) % 4;
                    }
                    char.directionTimer = 0;
                    char.directionChangeInterval = Math.floor(Math.random() * 200) + 100;
                }
                
                const oldX = char.x;
                const oldY = char.y;
                
                switch(char.direction) {
                    case 0: char.y += char.speed; break;
                    case 1: char.x -= char.speed; break;
                    case 2: char.x += char.speed; break;
                    case 3: char.y -= char.speed; break;
                }
                
                let collision = false;
                for (let other of characters) {
                    if (other !== char) {
                        const dx = char.x - other.x;
                        const dy = char.y - other.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        
                        if (distance < 18) {
                            collision = true;
                            break;
                        }
                    }
                }
                
                if (collision || !isOnLand(char.x, char.y, char.type)) {
                    char.x = oldX;
                    char.y = oldY;
                    char.direction = (char.direction + 2 + Math.floor(Math.random() * 2)) % 4;
                }
                
                char.x = Math.max(10, Math.min(char.x, worldWidth - 50));
                char.y = Math.max(10, Math.min(char.y, worldHeight - 50));
                
                char.frameCounter++;
                if (char.frameCounter > 8) {
                    char.frameCounter = 0;
                    char.frame = (char.frame + 1) % FRAMES_PER_ANIMATION;
                }
            });
        }
        
        function drawCharacters() {
            ctx.save();
            ctx.scale(scale, scale);
            
            const camX = camera.x / scale;
            const camY = camera.y / scale;
            
            const drawScale = 2;
            
            characters.forEach(char => {
                const screenX = char.x - camX;
                const screenY = char.y - camY;
                
                const spriteWidth = char.type === "sheep" ? SHEEP_WIDTH : SPRITE_WIDTH;
                const spriteHeight = char.type === "sheep" ? SHEEP_HEIGHT : SPRITE_HEIGHT;
                
                if (screenX > -spriteWidth * drawScale && screenX < canvas.width / scale &&
                    screenY > -spriteHeight * drawScale && screenY < canvas.height / scale) {
                    
                    ctx.drawImage(
                        char.sprite,
                        0,
                        0,
                        spriteWidth,
                        spriteHeight,
                        screenX,
                        screenY,
                        spriteWidth * drawScale,
                        spriteHeight * drawScale
                    );
                }
            });
            
            ctx.restore();
        }
        
        let selectedCharacterForModal = null;
        
        canvas.addEventListener('click', (e) => {
            const rect = canvas.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const clickY = e.clientY - rect.top;
            
            const worldClickX = (clickX / scale) + (camera.x / scale);
            const worldClickY = (clickY / scale) + (camera.y / scale);
            
            characters.forEach(char => {
                if (char.type === "human") {
                    const distance = Math.sqrt(
                        Math.pow(worldClickX - char.x, 2) + 
                        Math.pow(worldClickY - char.y, 2)
                    );
                    
                    if (distance < 40) {
                        openCharacterModal(char);
                    }
                }
            });
        });
        
        function openCharacterModal(char) {
            selectedCharacterForModal = char;
            
            document.getElementById('charModalName').textContent = char.name;
            document.getElementById('charDescription').textContent = char.description;
            
            const awarenessLevel = char.awarenessLevel || Math.floor(Math.random() * 100);
            char.awarenessLevel = awarenessLevel;
            
            document.getElementById('awarenessFill').style.width = awarenessLevel + '%';
            document.getElementById('awarenessText').textContent = awarenessLevel + '%';
            
            const avatarCanvas = document.getElementById('charAvatarCanvas');
            const avatarCtx = avatarCanvas.getContext('2d');
            avatarCtx.imageSmoothingEnabled = false;
            avatarCtx.clearRect(0, 0, 100, 100);
            
            const spriteWidth = char.type === "sheep" ? 40 : 24;
            const spriteHeight = char.type === "sheep" ? 30 : 32;
            
            const scale = Math.min(100 / spriteWidth, 100 / spriteHeight) * 0.9;
            const scaledWidth = spriteWidth * scale;
            const scaledHeight = spriteHeight * scale;
            
            const offsetX = (100 - scaledWidth) / 2 - 10;
            const offsetY = (100 - scaledHeight) / 2 + 5;
            
            avatarCtx.drawImage(char.sprite, 0, 0, spriteWidth, spriteHeight, offsetX, offsetY, scaledWidth, scaledHeight);
            
            const conversationsSection = document.getElementById('conversationsSection');
            conversationsSection.innerHTML = '';
            
const characterConversations = {
    "æŸ´çŠ¬": [
        {
            timestamp: '10/10/2025, 16:20:50',
            from: 'æ°å…‹',
            to: 'æŸ´çŠ¬',
            text: 'ä¹–å­©å­ï¼Œä¹–ï¼é‚£æ˜¯ä»€ä¹ˆï¼Ÿä½ åœ¨æ´ç©´é™„è¿‘é—»åˆ°äº†ä»€ä¹ˆï¼Ÿæˆ‘ä»æ²¡è§ä½ è¿™ä¹ˆå®³æ€•è¿‡...ç­‰ç­‰ï¼Œä½ ä¸€ç›´åœ¨æŠ“æ±¤æ™®æ£®çš„å¤§é—¨ã€‚ä½ åªæœ‰é—»åˆ°è¡€è…¥å‘³æ—¶æ‰ä¼šè¿™æ ·ã€‚å¤©å•Šã€‚'
        },
        {
            timestamp: '10/10/2025, 14:55:33',
            from: 'èæ‹‰',
            to: 'æŸ´çŠ¬',
            text: 'æŸ´çŠ¬æ‹’ç»é è¿‘åŒ—éƒ¨æµ·æ»©ã€‚å®ƒå‘œå’½ç€ç”¨åŠ›æŒ£æ‰ï¼Œå·®ç‚¹æŒ£æ–­äº†çš®å¸¦ã€‚ç‹—èƒ½æ„ŸçŸ¥åˆ°æˆ‘ä»¬æ„ŸçŸ¥ä¸åˆ°çš„ä¸œè¥¿ã€‚ä½†å®ƒä¸€ç›´ç»™æˆ‘å¸¦æ¥æ’•ç ´çš„å¸ƒæ–™ç¢ç‰‡â€”â€”æ˜‚è´µçš„å¸ƒæ–™ï¼Œå°±åƒæ±¤æ™®æ£®è¥¿è£…ä¸Šçš„é‚£ç§ã€‚è€Œä¸”ä¸Šé¢æ²¾ç€é»‘è‰²çš„ä¸œè¥¿ã€‚'
        },
        {
            timestamp: '10/10/2025, 12:08:44',
            from: 'é©¬åº“æ–¯',
            to: 'æŸ´çŠ¬',
            text: 'å‘ç°æŸ´çŠ¬åœ¨å¤è€çš„çŸ³åœˆé™„è¿‘ç–¯ç‹‚æŒ–æ˜ã€‚å®ƒæŒ–å‡ºäº†å¨å°”é€Šå¤¹å…‹çš„ä¸€å—ç¢ç‰‡â€”â€”ä¸Šé¢è¦†ç›–ç€æŸç§æ´—ä¸æ‰çš„é»‘è‰²æ®‹ç•™ç‰©ã€‚ä½†åœ¨ä¸‹é¢æ˜¯ä¸€å¼ åç‰‡ï¼š"æ±¤æ™®æ£®è”åˆå…¬å¸â€”â€”æ”¶å€ºï¼Œä¿å¯†ã€‚"'
        },
        {
            timestamp: '10/09/2025, 22:40:11',
            from: 'æŸ´çŠ¬',
            to: 'æ°å…‹',
            text: 'å‡Œæ™¨3ç‚¹47åˆ†ï¼ŒæŸ´çŠ¬å¯¹ç€æœˆäº®åšå«ï¼ŒæƒŠé†’äº†æ•´ä¸ªå®¶åº­ã€‚æŒ‡å‘ç¯å¡”æ–¹å‘ã€‚ç›´åˆ°æ—¥å‡ºæ‰åœæ­¢ã€‚å®ƒçš„çˆªå­æ²¾æ»¡äº†æ³¥åœŸâ€”â€”å’Œåœ¨é‡‡çŸ³åœºå‘ç°å¨å°”é€Šå¤¹å…‹çš„åœ°æ–¹ä¸€æ ·çš„çº¢è‰²ç²˜åœŸã€‚'
        },
        {
            timestamp: '10/09/2025, 17:33:28',
            from: 'æ­¦',
            to: 'æŸ´çŠ¬',
            text: 'æŸ´çŠ¬å¸¦æˆ‘åˆ°å¯ºåº™åºŸå¢Ÿé™„è¿‘çš„ä¸€ä¸ªéšè—çš„è—åŒ¿å¤„ã€‚é‡Œé¢æœ‰ï¼šå¨å°”é€Šçš„çœ¼é•œï¼Œä¸€ä¸ªå¥‡æ€ªçš„é‡‘å±è£…ç½®ï¼Œè¿˜æœ‰ä¸€å¼ æ ‡è®°ç€çŸ³åœˆçš„åœ°å›¾ï¼Œç”¨è¡€æ ‡è®°çš„ã€‚ä½†è¿˜æœ‰ä¸€å¼ çº¸æ¡ï¼š"å¦‚æœä½ æ­£åœ¨è¯»è¿™ä¸ªï¼Œæˆ‘å·²ç»æ­»äº†ã€‚ç­”æ¡ˆåœ¨äºè°ä»æˆ‘çš„æ²‰é»˜ä¸­è·ç›Šæœ€å¤šã€‚è·Ÿç€é’±èµ°ï¼Œè€Œä¸æ˜¯è°œå›¢ã€‚å¯†ç ï¼š1987RITUAL"'
        },
        {
            timestamp: '10/09/2025, 15:44:18',
            from: 'ä¼¯å°¼',
            to: 'æŸ´çŠ¬',
            text: 'ä»Šå¤©æŸ´çŠ¬æ”»å‡»äº†æ±¤æ™®æ£®â€”â€”æ‰‘å‘ä»–ï¼Œéœ²å‡ºç‰™é½¿ã€‚æˆ‘ä»¬ä¸å¾—ä¸æŠŠå®ƒæ‹‰å¼€ã€‚æ±¤æ™®æ£®çš„è¢–å­è¢«æ’•ç ´äº†ï¼Œè€Œä¸”...ä»–çš„èƒ³è†Šä¸Šæœ‰æ–°é²œçš„æŠ“ç—•ã€‚è¿˜æœ‰æ—§çš„æŠ“ç—•ï¼Œåƒæ˜¯ææ–—ç•™ä¸‹çš„ã€‚æ±¤æ™®æ£®ç¬‘ç€è¯´æ²¡äº‹ï¼Œä½†ä»–çš„æ‰‹åœ¨å‘æŠ–ã€‚'
        },
        {
            timestamp: '10/09/2025, 09:22:55',
            from: 'èæ‹‰',
            to: 'æŸ´çŠ¬',
            text: 'æŸ´çŠ¬åœ¨å²¸è¾¹å‘ç°äº†ä¸€ä¸ªåŸ‹è—çš„ä¿é™©ç®±ã€‚é‡Œé¢æ˜¯æˆ‘ä»¬ä¸ƒä¸ªäººçš„ç…§ç‰‡ï¼Œæ¯å¼ ç…§ç‰‡ä¸Šéƒ½ç”»ç€çº¢è‰²çš„Xï¼Œé™¤äº†æ±¤æ™®æ£®ã€‚è¿˜æœ‰ä¸€ä¸ªè°œè¯­ï¼š"ä¸ƒç½ªä¸€å®¡åˆ¤ã€‚ä¸ƒå‘½ä¸€æ¨æ„ã€‚å½“ç¬¬å…«è€…å¯»çœŸç›¸ï¼Œç¬¬ä¸€è€…å°†æŠ¹è¯æ®ã€‚"'
        }
    ],
    "èæ‹‰": [
        {
            timestamp: '10/10/2025, 15:59:32',
            from: 'èæ‹‰',
            to: 'é©¬åº“æ–¯',
            text: 'é©¬åº“æ–¯ï¼Œæˆ‘çœŸçš„å¾ˆæ‹…å¿ƒã€‚è€å¨å°”é€Šå·²ç»ä¸‰å¤©æ²¡æ¥å¸‚åœºäº†ã€‚ä½ çŸ¥é“ä»–ä»ä¸é”™è¿‡å¸‚åœºæ—¥...æˆ‘åœ¨ä»–çš„æ‘Šä½ä¸Šå‘ç°äº†è¿™å¼ çº¸æ¡ï¼š"å½“ä¸ƒäººå›´æˆåœˆç«™ç«‹ï¼Œç¬¬å…«äººå°†æ°¸ä¸è¢«æ‰¾åˆ°ã€‚"è¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ'
        },
        {
            timestamp: '10/10/2025, 14:30:15',
            from: 'é©¬åº“æ–¯',
            to: 'èæ‹‰',
            text: 'æˆ‘çŸ¥é“ã€‚ä»Šå¤©æ—©ä¸Šæˆ‘å»æŸ¥çœ‹äº†ä»–å¸¸å»çš„é’“é±¼ç‚¹ã€‚ä»–æœ€å–œæ¬¢çš„æ¤…å­åœ¨é‚£é‡Œï¼Œä½†ä¸è§ä»–çš„è¸ªå½±ã€‚ä»–çš„é’“å…·ç®±æ˜¯å¼€ç€çš„ï¼Œå¥½åƒä»–åŒ†å¿™ç¦»å¼€äº†ã€‚æœ‰æ³¥æ³çš„è„šå°é€šå‘è¿œå¤„...ä½†çœ‹èµ·æ¥å¾ˆå¥‡æ€ªï¼Œåƒæ˜¯æœ‰äººæ‹–ç€ä»€ä¹ˆé‡ç‰©ã€‚'
        },
        {
            timestamp: '10/10/2025, 13:15:44',
            from: 'èæ‹‰',
            to: 'ä¼¯å°¼',
            text: 'ä¼¯å°¼ï¼Œä¸Šå‘¨æˆ‘çœ‹åˆ°ä½ åœ¨å¸‚æ”¿å…ä¼šè®®ä¸Šå’Œå¨å°”é€Šäº‰åµã€‚ä½ åœ¨å–Š"æ­éœ²çœŸç›¸"ï¼Œä»–çœ‹èµ·æ¥å¾ˆå®³æ€•ã€‚é‚£æ˜¯å…³äºä»€ä¹ˆçš„ï¼Ÿ'
        },
        {
            timestamp: '10/10/2025, 11:22:08',
            from: 'èæ‹‰',
            to: 'æ°å…‹',
            text: 'æ°å…‹ï¼Œä½ æœ€åä¸€æ¬¡è§åˆ°å¨å°”é€Šæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿä»–æœ‰æåˆ°å»ä»€ä¹ˆä¸å¯»å¸¸çš„åœ°æ–¹å—ï¼Ÿæˆ‘è¿˜éœ€è¦é—®...ä¸ºä»€ä¹ˆä¸‰å¤©å‰å‡Œæ™¨2ç‚¹ä½ çš„èˆ¹åœ¨åŒ—ç å¤´ï¼Ÿé™ˆå¤ªå¤ªä»å¥¹çš„çª—æˆ·çœ‹åˆ°äº†ã€‚'
        },
        {
            timestamp: '10/09/2025, 18:20:41',
            from: 'æ°å…‹',
            to: 'èæ‹‰',
            text: 'ä¸¤å¤©å‰ï¼Œå¤§çº¦æ—¥è½æ—¶åˆ†ã€‚ä»–åœ¨å˜Ÿå›”ç€"çŸ³å¤´ä¸­çš„å›¾æ¡ˆ"ä¹‹ç±»çš„è¯ï¼Œæœç€æ—§ç¯å¡”èµ°å»ã€‚çœ‹èµ·æ¥å¾ˆç„¦è™‘ã€‚ä»–ä¸€ç›´åœ¨è¯´"ä»æ²‰é»˜ä¸­è·åˆ©çš„äººå°†è¢«ä»–ä»¬çš„é“¶èˆŒæ­éœ²ã€‚"å¾ˆå¥‡æ€ªï¼Œå¯¹å§ï¼Ÿ'
        },
        {
            timestamp: '10/09/2025, 16:45:12',
            from: 'èæ‹‰',
            to: 'æ­¦',
            text: 'æ­¦ï¼Œä½ ç¥–çˆ¶çš„æ—¥è®°é‡Œä¸æ˜¯æåˆ°è¿‡ç¯å¡”çš„äº‹å—ï¼Ÿå¦å¤–ï¼Œæˆ‘åœ¨ä½ åº—é™„è¿‘å‘ç°äº†å¨å°”é€Šçš„çœ¼é•œã€‚ä½ èƒ½è§£é‡Šä¸€ä¸‹å—ï¼Ÿ'
        },
        {
            timestamp: '10/09/2025, 14:33:28',
            from: 'èæ‹‰',
            to: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            text: 'æ±¤æ™®æ£®ï¼Œæˆ‘çŸ¥é“ä½ å’Œå¨å°”é€Šæœ‰å•†ä¸šçº çº·ã€‚å…³äº1987å¹´çš„åœŸåœ°å¥‘çº¦ï¼Ÿæœ‰äººå¬åˆ°ä½ è¯´"ä»–çŸ¥é“å¾—å¤ªå¤šäº†ï¼Œä»–ä¼šåæ‚”çš„ã€‚"èƒ½è¯¦ç»†è¯´æ˜ä¸€ä¸‹å—ï¼Ÿ'
        },
        {
            timestamp: '10/09/2025, 12:18:55',
            from: 'èæ‹‰',
            to: 'æŸ´çŠ¬',
            text: 'ä»Šå¤©æ—©ä¸ŠæŸ´çŠ¬å¸¦æˆ‘æ‰¾åˆ°äº†å¨å°”é€Šè¢«æ’•ç ´çš„å¤¹å…‹ã€‚ä¸Šé¢è¦†ç›–ç€çº¢è‰²ç²˜åœŸâ€”â€”åªæœ‰æ—§é‡‡çŸ³åœºé™„è¿‘æ‰æœ‰çš„é‚£ç§ã€‚ä½†å¥‡æ€ªçš„æ˜¯ï¼šä¸Šé¢è¿˜æœ‰æ˜‚è´µé¦™æ°´çš„ç—•è¿¹ã€‚è¿™å²›ä¸Šè°ç”¨é¦™æ°´ï¼Ÿ'
        }
    ],
    "é©¬åº“æ–¯": [
        {
            timestamp: '10/10/2025, 16:45:22',
            from: 'é©¬åº“æ–¯',
            to: 'ä¼¯å°¼',
            text: 'ä¼¯å°¼ï¼Œæˆ‘åœ¨åŒ—ç å¤´å‘ç°äº†å¨å°”é€Šçš„é±¼ç«¿ã€‚é’“çº¿è¢«æ•´é½åœ°å‰²æ–­äº†ï¼Œä¸æ˜¯æ–­æ‰çš„ã€‚æœ‰äººæˆ–æŸç‰©æ•…æ„å‰²æ–­äº†å®ƒã€‚æˆ‘è¿˜åœ¨ä»–çš„èˆ¹ä¸Šå‘ç°äº†ä½ çš„æŠ—è®®ä¼ å•ã€‚ä½ å†™é“ï¼š"çœŸç›¸ä¼šè®©æˆ‘ä»¬è‡ªç”±ï¼Œä½†é¦–å…ˆå®ƒä¼šæ‘§æ¯é‚£äº›éšè—å®ƒçš„äººã€‚"'
        },
        {
            timestamp: '10/10/2025, 15:20:18',
            from: 'é©¬åº“æ–¯',
            to: 'æ°å…‹',
            text: 'æ°å…‹ï¼Œä½ çš„æ•…äº‹è¯´ä¸é€šã€‚ä½ è¯´å¨å°”é€Šå¤±è¸ªæ—¶ä½ åœ¨å¤–é¢é’“é±¼ï¼Œä½†æˆ‘æ£€æŸ¥æ—¶ä½ çš„æ¸”ç½‘å®Œå…¨æ˜¯å¹²çš„ã€‚ä½ åˆ°åº•åœ¨å“ªé‡Œï¼Ÿä¸ºä»€ä¹ˆä½ ä¸€ç›´é¿å…çœ¼ç¥æ¥è§¦ï¼Ÿ'
        },
        {
            timestamp: '10/10/2025, 12:15:08',
            from: 'æ­¦',
            to: 'é©¬åº“æ–¯',
            text: 'é©¬åº“æ–¯ï¼Œæˆ‘éœ€è¦å‘Šè¯‰ä½ ä¸€äº›äº‹ã€‚æ˜¨æ™šæˆ‘åœ¨æ£®æ—ç©ºåœ°é™„è¿‘çœ‹åˆ°äº†ç¯å…‰ã€‚ä¸æ˜¯ç¯ç¬¼â€”â€”å®ƒä»¬ä»¥å‡ ä½•å›¾æ¡ˆç§»åŠ¨ï¼Œåƒæ˜¯ä»ªå¼ã€‚æˆ‘å¬åˆ°äº†åŸå”±...å¬èµ·æ¥åƒæ±¤æ™®æ£®çš„å£°éŸ³æ··åˆç€å…¶ä»–äººçš„å£°éŸ³ã€‚'
        },
        {
            timestamp: '10/10/2025, 09:33:44',
            from: 'é©¬åº“æ–¯',
            to: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            text: 'æ±¤æ™®æ£®ï¼Œä½ åœ¨è¿™é‡Œä½å¾—æœ€ä¹…ã€‚ä»¥å‰å‘ç”Ÿè¿‡è¿™æ ·çš„äº‹å—ï¼Ÿäººä»¬æ— å½±æ— è¸ªåœ°æ¶ˆå¤±ï¼Ÿå¦å¤–ï¼Œä¸ºä»€ä¹ˆä½ ä¸Šä¸ªæœˆè¿˜æ¸…äº†å¨å°”é€Šçš„æŠµæŠ¼è´·æ¬¾ï¼Ÿä½ æƒ³ä»ä»–é‚£é‡Œå¾—åˆ°ä»€ä¹ˆä½œä¸ºå›æŠ¥ï¼Ÿ'
        },
        {
            timestamp: '10/09/2025, 20:30:55',
            from: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            to: 'é©¬åº“æ–¯',
            text: 'åˆ«å†æŒ–äº†ï¼Œé©¬åº“æ–¯ã€‚æœ‰äº›ç§˜å¯†è¢«åŸ‹è‘¬æ˜¯æœ‰åŸå› çš„ã€‚æˆ‘çˆ¶äº²è®©æˆ‘å‘èª“æ°¸è¿œä¸è¦è¯´èµ·1987å¹´çš„äº‹ã€‚"å®ˆæŠ¤è€…å¿…é¡»ä¿æŒæ²‰é»˜ï¼Œå¦åˆ™æˆä¸ºç¥­å“"â€”â€”è¿™æ˜¯ä»–çš„åŸè¯ã€‚å¬ä»å®ƒä»¬ã€‚'
        },
        {
            timestamp: '10/09/2025, 14:18:29',
            from: 'é©¬åº“æ–¯',
            to: 'èæ‹‰',
            text: 'æˆ‘å‘ç°ä»å¨å°”é€Šå®¶åˆ°æ´ç©´çš„æ–°é²œé´å°ã€‚ä½†å®ƒä»¬å°±è¿™ä¹ˆ...åœäº†ã€‚å°±åƒä»–åœ¨åŠæ­¥ä¸­æ¶ˆå¤±äº†ã€‚èæ‹‰ï¼Œæˆ‘éœ€è¦å‘Šè¯‰ä½ ä¸€äº›äº‹â€”â€”æˆ‘æ‰¾åˆ°äº†ä¸€ç¯‡1987å¹´çš„æ—¥è®°ã€‚ä¸Šé¢åˆ—å‡ºäº†ä¸ƒä¸ªåå­—ã€‚å…­ä¸ªäººæ­»äº†ã€‚æ±¤æ™®æ£®æ˜¯ç¬¬ä¸ƒä¸ªã€‚å¨å°”é€Šæœ¬æ¥ä¼šæ˜¯ç¬¬å…«ä¸ªã€‚'
        },
        {
            timestamp: '10/09/2025, 11:45:33',
            from: 'é©¬åº“æ–¯',
            to: 'æ­¦',
            text: 'æ­¦ï¼Œæˆ‘çœ‹åˆ°ä½ æ˜¨æ™šåœ¨ä½ åº—åé¢çƒ§çº¸ã€‚ä¸Šé¢æœ‰å¨å°”é€Šç­¾åçš„æ—§æ–‡ä»¶ã€‚å•†ä¸šåˆåŒï¼Ÿå€ºåŠ¡ï¼Ÿä½ åœ¨éšè—ä»€ä¹ˆï¼Ÿä½ çœ‹åˆ°æˆ‘æ—¶æ‰‹åœ¨å‘æŠ–ã€‚'
        },
        {
            timestamp: '10/09/2025, 08:22:16',
            from: 'é©¬åº“æ–¯',
            to: 'ä¼¯å°¼',
            text: 'ä¼¯å°¼ï¼Œæœ‰äººå‘Šè¯‰æˆ‘ä½ ä¸¤å‘¨å‰å¨èƒè¿‡å¨å°”é€Šã€‚è¯´å¦‚æœä»–ä¸åŠ å…¥ä½ çš„"è¿åŠ¨"ï¼Œå°±ä¼šæœ‰åæœã€‚è¡ŒåŠ¨ä¸»ä¹‰æ˜¯ä½ çš„çœŸæ­£åŠ¨æœºï¼Œè¿˜æ˜¯æœ‰æ›´é»‘æš—çš„ä¸œè¥¿ï¼Ÿ'
        }
    ],
    "æ°å…‹": [
        {
            timestamp: '10/10/2025, 17:10:33',
            from: 'æ°å…‹',
            to: 'èæ‹‰',
            text: 'èæ‹‰ï¼Œæ°´æœ‰äº›ä¸å¯¹åŠ²ã€‚æ˜¨æ™šæˆ‘å¬åˆ°æˆ‘çš„èˆ¹ç”²æ¿ä¸Šæœ‰è„šæ­¥å£°â€”â€”æ²‰é‡ã€æœ‰æ„çš„è„šæ­¥ã€‚ä½†å½“æˆ‘æ£€æŸ¥æ—¶ï¼Œæ²¡æœ‰äººåœ¨é‚£é‡Œã€‚åªæœ‰æ¹¿è„šå°é€šå‘è¾¹ç¼˜ç„¶ååœæ­¢ã€‚å®ƒä»¬é—»èµ·æ¥åƒæ±¤æ™®æ£®ç”¨çš„é‚£ç§æ˜‚è´µè‚¥çš‚ã€‚'
        },
        {
            timestamp: '10/10/2025, 13:42:19',
            from: 'æ°å…‹',
            to: 'é©¬åº“æ–¯',
            text: 'é±¼ç±»å®Œå…¨æ”¾å¼ƒäº†åŒ—æ¹¾ã€‚åœ¨æˆ‘40å¹´çš„æ•é±¼ç”Ÿæ¶¯ä¸­ï¼Œä»æœªè§è¿‡è¿™ç§æƒ…å†µã€‚å®ƒä»¬åœ¨é¿å¼€é‚£é‡Œçš„æŸæ ·ä¸œè¥¿ã€‚é©¬åº“æ–¯ï¼Œä½ å¿…é¡»ç›¸ä¿¡æˆ‘â€”â€”æˆ‘å¯èƒ½æœ‰å€ºåŠ¡ï¼Œä½†æˆ‘æ°¸è¿œä¸ä¼šä¼¤å®³å¨å°”é€Šã€‚å³ä½¿ä»–æ‹’ç»å€Ÿé’±ç»™æˆ‘ã€‚'
        },
        {
            timestamp: '10/10/2025, 11:55:27',
            from: 'æ°å…‹',
            to: 'ä¼¯å°¼',
            text: 'ä¼¯å°¼ï¼Œä¸Šå‘¨æˆ‘çœ‹åˆ°ä½ å’Œæ­¦åœ¨æ—§ç å¤´ç§˜å¯†ä¼šé¢ã€‚ä½ é€’ç»™ä»–ä¸€ä¸ªåšåšçš„ä¿¡å°ã€‚ä»–çœ‹èµ·æ¥å¾ˆå®³æ€•ã€‚è¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿä½ ä»¬ä¸¤ä¸ªåœ¨åˆä½œåšä»€ä¹ˆå—ï¼Ÿå¨å°”é€Šä¹Ÿçœ‹åˆ°äº†â€”â€”ä»–å‘Šè¯‰æˆ‘äº†ã€‚'
        },
        {
            timestamp: '10/10/2025, 10:28:55',
            from: 'æŸ´çŠ¬',
            to: 'æ°å…‹',
            text: 'æŸ´çŠ¬ç–¯ç‹‚åœ°å å«ç€ç›¯ç€æ—§ç å¤´ï¼Œæ¯›å‘ç«–èµ·ã€‚æ‹’ç»é è¿‘æ°´è¾¹ã€‚å®ƒä¸€ç›´åœ¨æŒ–ä¸€ä¸ªæœ¨æ¿æ¾åŠ¨çš„åœ°æ–¹...ä¸‹é¢åŸ‹ç€ä»€ä¹ˆä¸œè¥¿ã€‚'
        },
        {
            timestamp: '10/09/2025, 19:55:44',
            from: 'æ°å…‹',
            to: 'ä¼¯å°¼',
            text: 'ä¼¯å°¼ï¼Œä»Šå¤©æ—©ä¸Šæˆ‘æ‹‰èµ·æ¸”ç½‘ã€‚å®ƒä»¬è¢«æ’•ç¢äº†ï¼Œä½†ä¸æ˜¯è¢«æˆ‘è®¤è¯†çš„ä»»ä½•é±¼æˆ–é²¨é±¼ã€‚åˆ‡å£å¤ªç²¾ç¡®äº†ï¼Œå‡ ä¹æ˜¯å¤–ç§‘æ‰‹æœ¯å¼çš„ã€‚å°±åƒæœ‰äººç”¨éå¸¸é”‹åˆ©çš„åˆ€ã€‚æˆ‘å‘ç°ä¸€å—å¸ƒæ–™è¢«æŒ‚åœ¨ä¸Šé¢â€”â€”çœ‹èµ·æ¥åƒæ˜¯æ˜‚è´µè¥¿è£…çš„ä¸€éƒ¨åˆ†ã€‚'
        },
        {
            timestamp: '10/09/2025, 08:15:22',
            from: 'æ°å…‹',
            to: 'æ­¦',
            text: 'ä½ æåˆ°çš„é‚£äº›ç¬¦å·â€”â€”æˆ‘ä¹Ÿçœ‹åˆ°äº†ã€‚åˆ»åœ¨ç å¤´ä¸‹é¢ã€‚å®ƒä»¬åœ¨å¤œé‡Œå¾®å¾®å‘å…‰ã€‚æˆ‘ä¸æ˜¯åœ¨æƒ³è±¡ã€‚ä½†é—®é¢˜æ˜¯ï¼šä¸‰å‘¨å‰æˆ‘çœ‹åˆ°ä½ åœ¨æŸ±å­ä¸Šåˆ»ç±»ä¼¼çš„ä¸œè¥¿ã€‚ä½ è¯´è¿™æ˜¯"ä¸ºäº†ä¿æŠ¤"ã€‚ä¿æŠ¤ä»€ä¹ˆï¼Ÿ'
        },
        {
            timestamp: '10/09/2025, 06:40:11',
            from: 'æ°å…‹',
            to: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            text: 'æ±¤æ™®æ£®ï¼Œæˆ‘çŸ¥é“ä½ ä¸ºå¨å°”é€ŠæŠ•ä¿çš„ä¿é™©å•ã€‚50ä¸‡ç¾å…ƒï¼Œå—ç›Šäººæ˜¯ä½ ã€‚å¨å°”é€Šäº²å£å‘Šè¯‰æˆ‘â€”â€”ä»–å¾ˆå®³æ€•ã€‚è¯´ä½ åœ¨è§£å†³ä»–çš„å€ºåŠ¡åå¼ºè¿«ä»–ç­¾çš„ã€‚"ä¿é™©"è¿˜æ˜¯æ›´é»‘æš—çš„ä¸œè¥¿ï¼Ÿ'
        },
        {
            timestamp: '10/09/2025, 05:18:33',
            from: 'æ°å…‹',
            to: 'èæ‹‰',
            text: 'æˆ‘éœ€è¦å¦ç™½ä¸€äº›äº‹ã€‚å¨å°”é€Šå‘ç°æˆ‘ä¸ºäº†è¿˜å€ºåœ¨èµ°ç§è´§ç‰©ã€‚ä»–å¨èƒè¦ä¸¾æŠ¥æˆ‘ï¼Œé™¤éæˆ‘å¸®ä»–è°ƒæŸ¥"é˜´è°‹"ã€‚ä½†æˆ‘å‘èª“æˆ‘æ²¡æœ‰ä¼¤å®³ä»–ã€‚ä»–ç»™æˆ‘çš„è°œè¯­æ¯«æ— æ„ä¹‰ï¼š"å•†äººå–çœŸç›¸ï¼Œæ´»åŠ¨å®¶ä¹°è°è¨€ï¼Œé•¿è€…ä¿å®ˆç§˜å¯†ï¼Œä½†å½“æ™ºæ…§æ­»å»æ—¶è°è·åˆ©ï¼Ÿ"'
        }
    ],
    "ä¼¯å°¼": [
        {
            timestamp: '10/10/2025, 18:25:17',
            from: 'ä¼¯å°¼',
            to: 'èæ‹‰',
            text: 'æˆ‘ä»¬ç°åœ¨éœ€è¦ç»„ç»‡ä¸€æ¬¡é€‚å½“çš„æœç´¢é˜Ÿã€‚å¨å°”é€Šä¸ä¼šå°±è¿™æ ·æ¶ˆå¤±ã€‚æˆ‘æ£€æŸ¥äº†ä»–çš„æˆ¿å­â€”â€”é—¨æ˜¯å¼€ç€çš„ï¼Œæ¡Œå­ä¸Šçš„å’–å•¡è¿˜æ˜¯æ¸©çš„ã€‚ä»–æ˜¯æƒŠæ…Œå¤±æªåœ°ç¦»å¼€çš„ã€‚ä½†èæ‹‰...æˆ‘éœ€è¦å¦ç™½ä¸€äº›äº‹ã€‚å¨å°”é€Šå‘ç°æˆ‘ä¸€ç›´åœ¨æŒªç”¨æˆ‘çš„æ´»åŠ¨åŸºé‡‘çš„ææ¬¾ã€‚ä»–è¯´é™¤éæˆ‘æ”¾å¼ƒå¯¹æ±¤æ™®æ£®å…¬å¸çš„è°ƒæŸ¥ï¼Œå¦åˆ™ä»–ä¼šæ­éœ²æˆ‘ã€‚'
        },
        {
            timestamp: '10/10/2025, 11:30:42',
            from: 'ä¼¯å°¼',
            to: 'é©¬åº“æ–¯',
            text: 'é©¬åº“æ–¯ï¼Œæˆ‘åœ¨ä»–çš„ä¹¦æˆ¿é‡Œæ‰¾åˆ°äº†å¨å°”é€Šçš„æ—¥è®°ã€‚æ˜¨å¤©çš„æœ€åä¸€ç¯‡å†™é“ï¼š"ä»–ä»¬æ˜¯å¯¹çš„ã€‚æ±‡åˆæ˜¯çœŸå®çš„ã€‚æˆ‘åœ¨çŸ³å¤´é‚£é‡Œçœ‹åˆ°äº†ä»–ä»¬ã€‚å»å¯¹è´¨â€”â€”"å°±è¿™æ ·ç»“æŸäº†ã€‚ç¬”è¿˜åœ¨çº¸ä¸Šã€‚ä½†ä¸€å‘¨å‰è¿˜æœ‰å¦ä¸€ç¯‡ï¼š"BçŸ¥é“é’±çš„äº‹ã€‚TçŸ¥é“1987å¹´çš„äº‹ã€‚Jæ¬ æˆ‘5ä¸‡ã€‚ä»–ä»¬ä¸­çš„ä¸€ä¸ªä¼šå…ˆå´©æºƒã€‚"'
        },
        {
            timestamp: '10/10/2025, 07:44:18',
            from: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            to: 'ä¼¯å°¼',
            text: 'åˆ«å†é—®é—®é¢˜äº†ï¼Œä¼¯å°¼ã€‚åˆ«å†ç»„ç»‡æœç´¢äº†ã€‚è¿™å²›ä¸Šæœ‰äº›äº‹æœ€å¥½åˆ«ç®¡ã€‚ä½ çš„è¡ŒåŠ¨ä¸»ä¹‰ä¼šå®³æ­»äººã€‚æˆ‘çŸ¥é“ä½ ç”¨é‚£äº›ææ¬¾åšäº†ä»€ä¹ˆã€‚æˆ‘çŸ¥é“ä½ çš„èµŒå€ºã€‚ä¿æŒå®‰é™ï¼Œå¦åˆ™åŠ å…¥å¨å°”é€Šã€‚'
        },
        {
            timestamp: '10/09/2025, 21:18:29',
            from: 'ä¼¯å°¼',
            to: 'æ­¦',
            text: 'æ­¦ï¼Œæ±¤æ™®æ£®åœ¨éšè—ä»€ä¹ˆã€‚ä»–ä»Šå¤©å¨èƒæˆ‘â€”â€”å‘Šè¯‰æˆ‘"è®©è¿‡å»åŸ‹è‘¬"ï¼Œå¦åˆ™æˆ‘ä¼š"åŠ å…¥å…¶ä»–äºº"ã€‚ä»€ä¹ˆå…¶ä»–äººï¼Ÿä¸ºä»€ä¹ˆä¸Šå‘¨äºŒåˆå¤œä½ åœ¨ä»–çš„åº„å›­ï¼Ÿæˆ‘çœ‹åˆ°ä½ çš„é€è´§è½¦åœ¨é‚£é‡Œã€‚ä½ åœ¨é€ä»€ä¹ˆï¼Ÿ'
        },
        {
            timestamp: '10/09/2025, 15:52:07',
            from: 'ä¼¯å°¼',
            to: 'æ°å…‹',
            text: 'æˆ‘æŸ¥çœ‹äº†åŸé•‡æ¡£æ¡ˆã€‚æœ‰ä¸€ä¸ªæ¨¡å¼â€”â€”æ¯13å¹´åœ¨ç§‹åˆ†æœŸé—´å°±æœ‰äººå¤±è¸ªã€‚è®°å½•å¯ä»¥è¿½æº¯åˆ°1896å¹´ã€‚ä»Šå¹´åˆæ˜¯ç¬¬13å¹´ã€‚æ°å…‹ï¼Œå¨å°”é€Šå¤±è¸ªå‰ä¸¤å‘¨ä½ å‘ä»–è¦äº†ä¸€ç¬”å·¨é¢è´·æ¬¾ã€‚ä»–æ‹’ç»äº†ã€‚é‚£å°±æ˜¯åŠ¨æœºã€‚'
        },
        {
            timestamp: '10/09/2025, 13:28:44',
            from: 'ä¼¯å°¼',
            to: 'é©¬åº“æ–¯',
            text: 'é©¬åº“æ–¯ï¼Œæˆ‘å‘ç°äº†ä¸€äº›ä»¤äººä¸å®‰çš„ä¸œè¥¿ã€‚å¨å°”é€Šæœ‰æˆ‘ä»¬ä¸ƒä¸ªäººçš„ç…§ç‰‡ã€‚æ¯å¼ ç…§ç‰‡èƒŒåï¼Œä»–éƒ½å†™äº†ç¬”è®°ï¼š"æˆ˜å£«å¯»æ±‚æ­£ä¹‰ä½†éšè—ç€ä»–è¿‡å»çš„ç½ªè¡Œã€‚æ´»åŠ¨å®¶å®£æ‰¬çœŸç›¸ä½†ä»ç©·äººé‚£é‡Œå·çªƒã€‚å•†äººäº¤æ˜“ç§˜å¯†ã€‚æ¸”å¤«æ·¹æ²¡åœ¨å€ºåŠ¡ä¸­ã€‚"ä»–åœ¨æŒ‡æ§è°ï¼Ÿ'
        },
        {
            timestamp: '10/09/2025, 10:15:39',
            from: 'ä¼¯å°¼',
            to: 'æ­¦',
            text: 'ä½ ç¥–çˆ¶çš„æ—¥è®°æåˆ°"ä¸ƒäººç»ä¸èƒ½æˆä¸ºå…­äººã€‚"ä½†æˆ‘ä»¬å·²ç»æ˜¯ä¸ƒäººäº†ï¼Œå¨å°”é€Šæ˜¯ç¬¬å…«ä¸ªã€‚é™¤é...é™¤éæˆ‘ä»¬ä¸­çš„ä¸€ä¸ªäººä¸æ˜¯ä»–ä»¬å£°ç§°çš„é‚£ä¸ªäººã€‚æ­¦ï¼Œä½ çš„æ–‡ä»¶è¯´ä½ ä¸‰å¹´å‰åˆ°è¾¾ï¼Œä½†æˆ‘å‘ç°äº†1987å¹´æœ‰ä½ åå­—çš„è¿è¾“è®°å½•ã€‚'
        }
    ],
    "æ­¦": [
        {
            timestamp: '10/10/2025, 15:35:28',
            from: 'æ­¦',
            to: 'èæ‹‰',
            text: 'èæ‹‰ï¼Œæˆ‘ç»ˆäºç¿»è¯‘äº†æˆ‘ç¥–çˆ¶çš„æ—¥è®°ã€‚ä»–å†™åˆ°"æ±‡åˆ"â€”â€”å½“ä¸–ç•Œä¹‹é—´çš„å¸·å¹•å˜è–„æ—¶ã€‚ä»–è®°å½•äº†1961å¹´ã€1974å¹´ã€1987å¹´ã€2000å¹´ã€2013å¹´çš„å¤±è¸ª...ä»Šæ™šæ˜¯ä¸‹ä¸€æ¬¡æ±‡åˆã€‚ä½†è¿˜æœ‰æ›´å¤šï¼š"å¸¦æœ‰ç¹è£æ ‡è®°çš„äººå°†è¦æ±‚æœ€ç»ˆçš„ä»£ä»·ã€‚å½“å¿ƒæˆ´ç€ä¸¤å‰¯é¢å­”çš„é•¿è€…ã€‚"'
        },
        {
            timestamp: '10/10/2025, 10:20:44',
            from: 'æ­¦',
            to: 'ä¼¯å°¼',
            text: 'çœ‹çœ‹æˆ‘åœ¨ç å¤´æŸ±å­ä¸Šå‘ç°çš„è¿™ä¸ªç¬¦å·ã€‚æ˜¨å¤©è¿˜ä¸åœ¨é‚£é‡Œï¼Œæˆ‘å¾ˆç¡®å®šã€‚è¿™å’Œæˆ‘ç¥–çˆ¶è­¦å‘Š"å®ˆæœ›è€…"çš„ç¬¦å·ä¸€æ ·ã€‚ä¼¯å°¼ï¼Œæˆ‘éœ€è¦å‘Šè¯‰ä½ â€”â€”æ±¤æ™®æ£®ä¸€ç›´åœ¨è´­ä¹°è¿™äº›ç¬¦å·å‡ºç°çš„æ‰€æœ‰åœŸåœ°ã€‚ä»–åœ¨æˆ‘ä»¬å…¶ä»–äººä¹‹å‰å°±çŸ¥é“å®ƒä»¬ã€‚'
        },
        {
            timestamp: '10/10/2025, 08:15:33',
            from: 'æ°å…‹',
            to: 'æ­¦',
            text: 'æ­¦ï¼Œé‚£äº›å¤è€çš„ç¬¦å·æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæˆ‘åˆ°å¤„éƒ½çœ‹åˆ°å®ƒä»¬â€”â€”åœ¨æ ‘ä¸Šã€å²©çŸ³ä¸Šï¼Œç”šè‡³åˆ»åœ¨æˆ‘çš„èˆ¹ä½“ä¸Šã€‚å®ƒä»¬åœ¨ç¹æ®–ã€‚ä½ è¯´å®ƒä»¬æ˜¯"ä¿æŠ¤ç¬¦"ï¼Œä½†å¨å°”é€Šå‘Šè¯‰æˆ‘å®ƒä»¬å®é™…ä¸Šæ˜¯æ ‡è®°ã€‚æ ‡è®°ä»€ä¹ˆï¼Ÿ'
        },
        {
            timestamp: '10/09/2025, 23:15:37',
            from: 'æ­¦',
            to: 'é©¬åº“æ–¯',
            text: 'å½“ä½ å åŠ è¿™äº›ç¬¦å·æ—¶ï¼Œå®ƒä»¬å½¢æˆäº†ä¸€å¼ åœ°å›¾ã€‚å®ƒä»¬éƒ½æŒ‡å‘ç¯å¡”ä¸‹çš„æ°´ä¸‹æ´ç©´ã€‚æˆ‘ç¥–çˆ¶æœ€åçš„è®°å½•è­¦å‘Šï¼š"æ»¡æœˆæ—¶åƒä¸‡ä¸è¦è¿›å…¥ã€‚"ä½†æˆ‘å¯¹ä½ ä»¬æ‰€æœ‰äººéƒ½æ’’äº†è°ã€‚æˆ‘è¿›å»è¿‡ã€‚æˆ‘çœ‹åˆ°äº†ä¸œè¥¿...è¯æ®ã€‚æ±¤æ™®æ£®å‡ åå¹´æ¥ä¸€ç›´åœ¨åšçš„äº‹æƒ…çš„è¯æ®ã€‚'
        },
        {
            timestamp: '10/09/2025, 19:42:55',
            from: 'æ­¦',
            to: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            text: 'æˆ‘çŸ¥é“ä½ 1987å¹´åœ¨é‚£é‡Œï¼Œæ±¤æ™®æ£®ã€‚æˆ‘æ‰¾åˆ°äº†ç…§ç‰‡â€”â€”ä½ ã€æˆ‘ç¥–çˆ¶å’Œå…¶ä»–ä¸‰ä¸ªäººåœ¨çŸ³åœˆã€‚åªæœ‰ä½ å’Œç¥–çˆ¶æ´»äº†ä¸‹æ¥ã€‚å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆä½ æ¯æœˆä»˜æˆ‘1ä¸‡ç¾å…ƒè®©æˆ‘å¯¹æˆ‘å‘ç°çš„è¿è¾“æ¸…å•ä¿æŒæ²‰é»˜ï¼Ÿ'
        },
        {
            timestamp: '10/09/2025, 14:28:11',
            from: 'æ­¦',
            to: 'æ°å…‹',
            text: 'æ°å…‹ï¼Œæˆ‘éœ€è¦å¦ç™½ã€‚æˆ‘ä¸€ç›´åœ¨åˆ»çš„é‚£äº›ç¬¦å·â€”â€”å®ƒä»¬ä¸æ˜¯ä¸ºäº†ä¿æŠ¤ã€‚å®ƒä»¬æ˜¯è­¦å‘Šã€‚æˆ‘ç¥–çˆ¶ç•™ä¸‹äº†æŒ‡ç¤ºï¼š"æ ‡è®°å°¸ä½“æ‰€åœ¨ä¹‹å¤„ï¼Œä»¥ä¾¿ç”Ÿè€…çŸ¥é“è¦é€ƒç¦»ã€‚"å²›ä¸Šæœ‰6ä¸ªæ ‡è®°ã€‚å¾ˆå¿«å°±ä¼šæœ‰7ä¸ªã€‚'
        },
        {
            timestamp: '10/09/2025, 11:50:44',
            from: 'æ­¦',
            to: 'ä¼¯å°¼',
            text: 'ä¼¯å°¼ï¼Œä½ é—®è¿‡æˆ‘1987å¹´çš„è¿è¾“è®°å½•ã€‚ä½ æ˜¯å¯¹çš„â€”â€”æˆ‘ä¸åº”è¯¥åœ¨è¿™é‡Œã€‚ä½†é‚£æ˜¯æˆ‘çˆ¶äº²ï¼Œä¸æ˜¯æˆ‘ã€‚å½“ä»–é€ƒç¦»æ—¥æœ¬æ—¶ï¼Œä»–ç”¨äº†æˆ‘çš„åå­—ä½œä¸ºåŒ–åã€‚ä»–åœ¨è¿™é‡Œç›®ç¹äº†å¯æ€•çš„äº‹æƒ…ï¼Œæ±¤æ™®æ£®ä»˜é’±è®©ä»–æ¶ˆå¤±ã€‚ç°åœ¨æ±¤æ™®æ£®ä¹Ÿæ‹¥æœ‰äº†æˆ‘ã€‚æˆ‘çˆ¶äº²ç•™ä¸‹çš„è°œè¯­ï¼š"ç»™äºˆçš„æ‰‹ä¹Ÿå¯ä»¥å¤ºèµ°ã€‚"'
        }
    ],
    "æ±¤æ™®æ£®å…ˆç”Ÿ": [
        {
            timestamp: '10/10/2025, 19:40:55',
            from: 'èæ‹‰',
            to: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            text: 'æ±¤æ™®æ£®ï¼Œä¸ºä»€ä¹ˆä½ ä¸å¸®æˆ‘ä»¬å¯»æ‰¾å¨å°”é€Šï¼Ÿä½ ä»¬ä¸¤ä¸ªæ˜¯å‡ åå¹´çš„æœ‹å‹ï¼ä½ åˆ°åº•åœ¨æ€•ä»€ä¹ˆï¼Ÿè¿˜æ˜¯ä½ å®³æ€•æˆ‘ä»¬ä¼šå‘ç°ä»€ä¹ˆï¼Ÿæˆ‘çœ‹åˆ°äº†åˆåŒâ€”â€”å¨å°”é€Šæ¬ ä½ ä¸€åˆ‡ã€‚ä»–çš„æˆ¿å­ã€ä»–çš„èˆ¹ã€ä»–çš„åœŸåœ°ã€‚ç°åœ¨éƒ½æ˜¯ä½ çš„åå­—ã€‚'
        },
        {
            timestamp: '10/10/2025, 09:15:22',
            from: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            to: 'é©¬åº“æ–¯',
            text: 'æˆ‘è­¦å‘Šè¿‡å¨å°”é€Šä¸è¦è°ƒæŸ¥é‚£äº›çŸ³å¤´ã€‚æˆ‘å‘Šè¯‰ä»–87å¹´å‘ç”Ÿäº†ä»€ä¹ˆã€‚æœ‰äº›é—¨ä¸€æ—¦æ‰“å¼€ï¼Œå°±å†ä¹Ÿå…³ä¸ä¸Šäº†ã€‚ä»–ä¸å¬ã€‚ç°åœ¨å¤ªæ™šäº†ã€‚é©¬åº“æ–¯ï¼Œæˆ‘å¯¹ä½ å¦ç™½â€”â€”æˆ‘ä»æ¯æ¬¡å¤±è¸ªä¸­è·åˆ©ã€‚æˆ¿åœ°äº§ä»·å€¼ä¸‹è·Œï¼Œæˆ‘ä¹°å…¥ï¼Œç„¶åå®ƒä»¬åˆä¸Šæ¶¨ã€‚è¿™åªæ˜¯ç”Ÿæ„ã€‚ä½†æˆ‘æ²¡æœ‰æ€ä»»ä½•äººã€‚'
        },
        {
            timestamp: '10/10/2025, 06:33:47',
            from: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            to: 'ä¼¯å°¼',
            text: 'ä½ çš„æœç´¢é˜Ÿåªä¼šåœ¨çºªå¿µçŸ³ä¸Šå¢åŠ æ›´å¤šåå­—ã€‚æˆ‘ä»¥å‰è§è¿‡è¿™ç§æƒ…å†µã€‚å²›å±¿ç´¢å–å®ƒåº”å¾—çš„ã€‚æ¯ã€‚åä¸‰ã€‚å¹´ã€‚ä¼¯å°¼ï¼Œæˆ‘çŸ¥é“ä½ çš„å€ºåŠ¡ã€‚èµŒåœºçš„20ä¸‡ç¾å…ƒã€‚å¦‚æœä½ åœæ­¢è¿™ä¸ªè°ƒæŸ¥ï¼Œæˆ‘å¯ä»¥è®©å®ƒä»¬æ¶ˆå¤±ã€‚å¥½å¥½æƒ³æƒ³ã€‚'
        },
        {
            timestamp: '10/09/2025, 17:50:18',
            from: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            to: 'æ­¦',
            text: 'ä½ ç¥–çˆ¶çŸ¥é“çœŸç›¸ã€‚ä»–ä¿å®ˆç§˜å¯†æ˜¯æœ‰åŸå› çš„ã€‚å²›å±¿æœ‰è§„åˆ™ã€‚æ‰“ç ´å®ƒä»¬ï¼Œä½ ä¸ä»…ä¼šæ­»â€”â€”ä½ ä¼šæˆä¸ºå®ƒçš„ä¸€éƒ¨åˆ†ã€‚æ°¸è¿œè§‚å¯Ÿã€‚æ°¸è¿œç­‰å¾…ã€‚ä½†åœ¨ä½ æˆ‘ä¹‹é—´ï¼Œæ­¦â€”â€”è¿™äº›ä¸æ˜¯è¶…è‡ªç„¶çš„æ­»äº¡ã€‚å®ƒä»¬éå¸¸äººæ€§åŒ–ã€‚éå¸¸æœ‰åˆ©å¯å›¾ã€‚æ˜¯çš„ï¼Œè‡ª1974å¹´ä»¥æ¥ï¼Œæˆ‘ç­–åˆ’äº†æ¯ä¸€èµ·ã€‚'
        },
        {
            timestamp: '10/09/2025, 13:28:44',
            from: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            to: 'æ°å…‹',
            text: 'è¿œç¦»åŒ—éƒ¨æ°´åŸŸï¼Œæ°å…‹ã€‚ç‰¹åˆ«æ˜¯ä»Šæ™šã€‚é‚£äº›æ´ç©´é‡Œçš„ä¸œè¥¿ä¸æ˜¯è‡ªç„¶çš„ã€‚æˆ‘åœ¨1987å¹´å¤±å»äº†æˆ‘çš„å¼Ÿå¼Ÿã€‚ä¸è¦è®©æˆ‘å†çœ‹åˆ°è¿™ç§äº‹å‘ç”Ÿã€‚è¿˜æœ‰ï¼Œæ°å…‹â€”â€”æˆ‘çŸ¥é“èµ°ç§çš„äº‹ã€‚æˆ‘çŸ¥é“å€ºåŠ¡ã€‚å¨å°”é€Šä¹ŸçŸ¥é“ã€‚ä»–è¦æ­éœ²æˆ‘ä»¬ä¸¤ä¸ªã€‚ä½ çš„åŠ¨æœºå’Œæˆ‘ä¸€æ ·å¤šã€‚'
        },
        {
            timestamp: '10/09/2025, 10:44:33',
            from: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            to: 'èæ‹‰',
            text: 'èæ‹‰ï¼Œä½ æ˜¯ä¸ªèªæ˜çš„å¥³äººã€‚ä½ çœ‹åˆ°äº†æ¨¡å¼ã€‚è®©æˆ‘ç»™ä½ ä¸€ä¸ªå¨å°”é€Šç•™ç»™æˆ‘çš„è°œè¯­ï¼š"å½“ä¸ƒäººè¢«æŒ‡æ§ï¼Œä¸€äººæ¡åˆ€ï¼Œè°æœ‰ç½ªâ€”â€”åˆ€åˆƒè¿˜æ˜¯èµ‹äºˆå®ƒç”Ÿå‘½çš„äººï¼Ÿ"è¿™é‡Œçš„æ¯ä¸ªäººéƒ½æœ‰ç†ç”±æƒ³è®©å¨å°”é€Šæ¶ˆå¤±ã€‚è¿™é‡Œçš„æ¯ä¸ªäººéƒ½æœ‰ç½ªã€‚'
        },
        {
            timestamp: '10/09/2025, 08:17:55',
            from: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            to: 'é©¬åº“æ–¯',
            text: 'é©¬åº“æ–¯ï¼Œæˆ‘çŸ¥é“ä½ æ‰¾åˆ°äº†æˆ‘çš„è´¦æœ¬ã€‚æ˜¯çš„ï¼Œæˆ‘å€Ÿé’±ç»™è¿™ä¸ªé•‡ä¸Šçš„æ¯ä¸ªäººã€‚æ˜¯çš„ï¼Œæˆ‘æ”¶å–åˆ©æ¯ã€‚æ˜¯çš„ï¼Œå¨å°”é€Šå‘ç°æˆ‘ä¸€ç›´åœ¨æ”¶å–40%çš„åˆ©ç‡ï¼Œè¿™æ˜¯éæ³•çš„ã€‚ä»–å¨èƒè¦å‘è”é‚¦å½“å±€ä¸¾æŠ¥æˆ‘ã€‚é‚£ä¼šæ¯äº†æˆ‘ã€‚ä½†æˆ‘æœ‰ä¸åœ¨åœºè¯æ˜â€”â€”ä»–å¤±è¸ªæ—¶æˆ‘æ•´å¤©éƒ½åœ¨å¤§é™†çš„é“¶è¡Œã€‚'
        },
        {
            timestamp: '10/09/2025, 05:33:21',
            from: 'æ±¤æ™®æ£®å…ˆç”Ÿ',
            to: 'ä¼¯å°¼',
            text: 'ä¼¯å°¼ï¼Œè®©æˆ‘å‘Šè¯‰ä½ 1987å¹´çœŸæ­£å‘ç”Ÿäº†ä»€ä¹ˆã€‚ä¸ƒä¸ªäººåœ¨çŸ³å¤´é‚£é‡Œä¸¾è¡Œäº†ä»ªå¼â€”â€”è¯•å›¾å¬å”¤ç¹è£ã€‚å®ƒæˆåŠŸäº†ã€‚ä½†ä»£ä»·æ˜¯è¡€ã€‚ä¸€ä¸ªäººå¿…é¡»æ­»ï¼Œå…¶ä»–äººæ‰èƒ½ç¹è£ã€‚æˆ‘ä»¬æŠ½ç­¾ã€‚æˆ‘å¼Ÿå¼Ÿè¾“äº†ã€‚ä»é‚£ä»¥åæˆ‘ä¸€ç›´èƒŒè´Ÿç€é‚£ä»½ç½ªç–šã€‚å¨å°”é€Šå¼„æ¸…æ¥šäº†ã€‚ä»–æƒ³æ­éœ²æˆ‘ä»¬æ‰€æœ‰äººâ€”â€”ä½ ã€æˆ‘ã€æ­¦çš„ç¥–çˆ¶ã€æ°å…‹çš„çˆ¶äº²ã€‚'
        }
    ]
};
            
            const conversations = characterConversations[char.name] || [];
            
            if (conversations.length === 0) {
conversationsSection.innerHTML = '<div style="color: #cbd5e1; padding: 15px; text-align: center;">å°šæœªè®°å½•å¯¹è¯ã€‚</div>';
            }
            
conversations.forEach(conv => {
    const convBox = document.createElement('div');
    convBox.className = 'conversation-box';
    convBox.innerHTML = `
        <div class="conversation-timestamp">${conv.timestamp}</div>
        <div class="conversation-from">æ¥è‡ª: ${conv.from}</div>
        <div class="conversation-to">å‘é€è‡³: ${conv.to}</div>
        <div class="conversation-text">${conv.text}</div>
    `;
    conversationsSection.appendChild(convBox);
});
            
            document.getElementById('characterModal').classList.add('show');
            document.getElementById('modalOverlay').classList.add('show');
        }
        
        function createCharacterPanel() {
            const characterPanel = document.getElementById('characterPanel');
            
const humanChars = [
    { name: "èæ‹‰", sprite: femaleSprite, offsetX: -6, offsetY: 0, arrowX: 24, arrowY: -30 },
    { name: "é©¬åº“æ–¯", sprite: warriorSprite, offsetX: -8, offsetY: 8, arrowX: 28, arrowY: -30 },
    { name: "æ°å…‹", sprite: maleSprite, offsetX: -5, offsetY: 0, arrowX: 24, arrowY: -30 },
    { name: "ä¼¯å°¼", sprite: bernieSprite, offsetX: -8, offsetY: 0, arrowX: 32, arrowY: -40 },
    { name: "æŸ´çŠ¬", sprite: shibaSprite, offsetX: -7, offsetY: 0, arrowX: 24, arrowY: -30 },
    { name: "æ­¦", sprite: japaneseSprite, offsetX: -8, offsetY: 0, arrowX: 24, arrowY: -40 },
    { name: "æ±¤æ™®æ£®å…ˆç”Ÿ", sprite: businessmanSprite, offsetX: -8, offsetY: 0, displayName: "æ±¤æ™®æ£®", arrowX: 24, arrowY: -40 }
];
            
            characterPanel.innerHTML = '';
            
            humanChars.forEach((charData) => {
                const card = document.createElement('div');
                card.className = 'character-card';
                
                const spriteCanvas = document.createElement('canvas');
                spriteCanvas.className = 'character-sprite';
                spriteCanvas.width = 48;
                spriteCanvas.height = 64;
                const spriteCtx = spriteCanvas.getContext('2d');
                spriteCtx.imageSmoothingEnabled = false;
                
                const drawCentered = () => {
                    spriteCtx.clearRect(0, 0, 48, 64);
                    const offsetX = charData.offsetX || 0;
                    const offsetY = charData.offsetY || 0;
                    spriteCtx.drawImage(charData.sprite, 0, 0, 24, 32, offsetX, offsetY, 48, 64);
                };
                
                if (charData.sprite.complete) {
                    drawCentered();
                } else {
                    charData.sprite.onload = drawCentered;
                }
                
                const nameDiv = document.createElement('div');
                nameDiv.className = 'character-name';
                nameDiv.textContent = charData.displayName || charData.name;
                
                card.onclick = () => {
                    const actualChar = characters.find(c => c.name === charData.name);
                    if (actualChar) {
                        camera.x = (actualChar.x * scale) - (canvas.width / 2);
                        camera.y = (actualChar.y * scale) - (canvas.height / 2);
                        
                        const maxX = Math.max(0, worldWidth * scale - canvas.width);
                        const maxY = Math.max(0, worldHeight * scale - canvas.height);
                        camera.x = Math.max(0, Math.min(camera.x, maxX));
                        camera.y = Math.max(0, Math.min(camera.y, maxY));
                        
                        selectedCharacter = actualChar;
                        selectedCharacter.arrowOffsetX = charData.arrowX || 24;
                        selectedCharacter.arrowOffsetY = charData.arrowY || -30;
                        playerMarker.style.display = 'block';
                        
                        setTimeout(() => {
                            playerMarker.style.display = 'none';
                            selectedCharacter = null;
                        }, 3000);
                        
                        document.querySelectorAll('.character-card').forEach(c => c.classList.remove('active'));
                        card.classList.add('active');
                        setTimeout(() => card.classList.remove('active'), 2000);
                    }
                };
                
                card.appendChild(spriteCanvas);
                card.appendChild(nameDiv);
                characterPanel.appendChild(card);
            });
        }
        
        function updatePlayerPosition() {
            player.x = (camera.x + canvas.width / 2) / scale;
            player.y = (camera.y + canvas.height / 2) / scale;
        }
        
        function updateMinimap() {
            if (!worldImage.complete || worldWidth === 0) return;
            
            minimapCtx.clearRect(0, 0, minimapCanvas.width, minimapCanvas.height);
            
            const minimapScale = Math.min(
                minimapCanvas.width / worldWidth,
                minimapCanvas.height / worldHeight
            );
            
            const minimapWorldWidth = worldWidth * minimapScale;
            const minimapWorldHeight = worldHeight * minimapScale;
            
            minimapCtx.drawImage(
                worldImage,
                0, 0,
                worldWidth, worldHeight,
                0, 0,
                minimapWorldWidth, minimapWorldHeight
            );
            
            characters.forEach(char => {
                if (char.type === 'human') {
                    const charX = char.x * minimapScale;
                    const charY = char.y * minimapScale;
                    
                    minimapCtx.save();
                    minimapCtx.imageSmoothingEnabled = false;
                    minimapCtx.drawImage(
                        char.sprite,
                        0, 0, 24, 12,
                        charX - 3, charY - 3,
                        6, 6
                    );
                    minimapCtx.restore();
                }
            });
            
            const viewportWidth = (canvas.width / scale) * minimapScale;
            const viewportHeight = (canvas.height / scale) * minimapScale;
            const viewportX = (camera.x / scale) * minimapScale;
            const viewportY = (camera.y / scale) * minimapScale;
            
            minimapViewport.style.left = viewportX + 'px';
            minimapViewport.style.top = viewportY + 'px';
            minimapViewport.style.width = viewportWidth + 'px';
            minimapViewport.style.height = viewportHeight + 'px';
            
            const playerMinimapX = player.x * minimapScale;
            const playerMinimapY = player.y * minimapScale;
            
            playerDot.style.left = (playerMinimapX - 6) + 'px';
            playerDot.style.top = (playerMinimapY - 6) + 'px';
            
            if (selectedCharacter) {
                const charScreenX = (selectedCharacter.x * scale) - camera.x;
                const charScreenY = (selectedCharacter.y * scale) - camera.y;
                playerMarker.style.left = (charScreenX + (selectedCharacter.arrowOffsetX || 24)) + 'px';
                playerMarker.style.top = (charScreenY + (selectedCharacter.arrowOffsetY || -30)) + 'px';
            }
        }
        
        window.addEventListener('keydown', (e) => {
            keys[e.key.toLowerCase()] = true;
        });
        
        window.addEventListener('keyup', (e) => {
            keys[e.key.toLowerCase()] = false;
        });
        
        canvas.addEventListener('mousedown', (e) => {
            const rect = canvas.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const clickY = e.clientY - rect.top;
            
            const worldClickX = (clickX / scale) + (camera.x / scale);
            const worldClickY = (clickY / scale) + (camera.y / scale);
            
            let clickedCharacter = false;
            
            characters.forEach(char => {
                if (char.type === "human") {
                    const distance = Math.sqrt(
                        Math.pow(worldClickX - char.x, 2) + 
                        Math.pow(worldClickY - char.y, 2)
                    );
                    
                    if (distance < 50) {
                        openCharacterModal(char);
                        clickedCharacter = true;
                        return;
                    }
                }
            });
            
            if (!clickedCharacter) {
                isDragging = true;
                dragStart = { x: e.clientX, y: e.clientY };
            }
        });
        
        canvas.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const dx = e.clientX - dragStart.x;
                const dy = e.clientY - dragStart.y;
                
                camera.x -= dx;
                camera.y -= dy;
                
                dragStart = { x: e.clientX, y: e.clientY };
            }
        });
        
        canvas.addEventListener('mouseup', () => {
            isDragging = false;
        });
        
        canvas.addEventListener('mouseleave', () => {
            isDragging = false;
        });
        
        canvas.addEventListener('wheel', (e) => {
            e.preventDefault();
            camera.y += e.deltaY * 0.5;
        });
        
        minimapCanvas.addEventListener('click', (e) => {
            const rect = minimapCanvas.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const clickY = e.clientY - rect.top;
            
            const minimapScale = Math.min(
                minimapCanvas.width / worldWidth,
                minimapCanvas.height / worldHeight
            );
            
            const worldX = (clickX / minimapScale) * scale;
            const worldY = (clickY / minimapScale) * scale;
            
            camera.x = worldX - canvas.width / 2;
            camera.y = worldY - canvas.height / 2;
        });
        
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth - sidePanelWidth;
            canvas.height = window.innerHeight;
            
            if (worldWidth > 0) {
                scale = canvas.width / worldWidth;
            }
        });
        
        function updateCamera() {
            const moveSpeed = camera.speed / scale;
            if (keys['arrowleft'] || keys['a']) camera.x -= moveSpeed;
            if (keys['arrowright'] || keys['d']) camera.x += moveSpeed;
            if (keys['arrowup'] || keys['w']) camera.y -= moveSpeed;
            if (keys['arrowdown'] || keys['s']) camera.y += moveSpeed;
            
            const scaledWorldWidth = worldWidth * scale;
            const scaledWorldHeight = worldHeight * scale;
            
            const maxX = Math.max(0, scaledWorldWidth - canvas.width);
            const maxY = Math.max(0, scaledWorldHeight - canvas.height);
            
            camera.x = Math.max(0, Math.min(camera.x, maxX));
            camera.y = Math.max(0, Math.min(camera.y, maxY));
            
            updatePlayerPosition();
        }
        
        function drawWorld() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            ctx.save();
            ctx.scale(scale, scale);
            
            const camX = camera.x / scale;
            const camY = camera.y / scale;
            
            ctx.drawImage(
                worldImage,
                camX, camY,
                canvas.width / scale, canvas.height / scale,
                0, 0,
                canvas.width / scale, canvas.height / scale
            );
            
            ctx.restore();
        }
        
        function gameLoop() {
            updateCamera();
            updateCharacters();
            drawWorld();
            drawCharacters();
            updateMinimap();
            
            waterOffset += 0.5;
            if (waterOffset > 100) waterOffset = 0;
            
            requestAnimationFrame(gameLoop);
        }
        
        const infoButton = document.getElementById('infoButton');
        const infoModal = document.getElementById('infoModal');
        const modalOverlay = document.getElementById('modalOverlay');
        const closeModal = document.getElementById('closeModal');
        const closeCharModal = document.getElementById('closeCharModal');
        const mysteryModal = document.getElementById('mysteryModal');
        const closeMysteryModal = document.getElementById('closeMysteryModal');
        
const votes = {
    'èæ‹‰': 0,
    'é©¬åº“æ–¯': 0,
    'æ°å…‹': 0,
    'ä¼¯å°¼': 0,
    'æŸ´çŠ¬': 0,
    'æ­¦': 0,
    'æ±¤æ™®æ£®å…ˆç”Ÿ': 0
};
        
        function loadVotes() {
            const saved = localStorage.getItem('hwland_votes');
            if (saved) {
                const savedVotes = JSON.parse(saved);
                Object.keys(savedVotes).forEach(char => {
                    votes[char] = savedVotes[char];
                    document.getElementById('vote-' + char).textContent = votes[char];
                });
            }
            
            const savedUserVoted = localStorage.getItem('hwland_userVoted');
            if (savedUserVoted === 'true') {
                userVoted = true;
                document.querySelectorAll('.vote-option').forEach(opt => {
                    opt.style.opacity = '0.5';
                    opt.style.cursor = 'not-allowed';
                });
            }
            
            const savedEndTime = localStorage.getItem('hwland_countdown_end');
            if (savedEndTime) {
                const endTime = parseInt(savedEndTime);
                const now = Date.now();
                const remaining = Math.floor((endTime - now) / 1000);
                if (remaining > 0) {
                    countdownSeconds = remaining;
                } else {
                    countdownSeconds = 0;
                    // If timer already expired, show the result immediately
                    document.getElementById('guiltyName').textContent = 'MR. THOMPSON';
                    document.getElementById('guiltyReason').textContent = 'Orchestrated disappearances for 50 years. Held $500k insurance policy on Wilson. Wilson discovered illegal loan sharking (40% interest rates) and was going to report him to federal authorities. Thompson has murdered at least 6 people since 1974 for financial gain, using the "ritual" and "island curse" as cover. He systematically eliminates anyone who could expose him. Evidence found in: Wilson\'s hidden recording (unlocked with password 1987RITUAL), character conversations, and Thompson\'s own confession to Takeshi.';
                    document.getElementById('guiltyAnnouncement').style.display = 'block';
                }
            } else {
                localStorage.setItem('hwland_countdown_end', (Date.now() + 8 * 60 * 1000).toString());
            }
        }
        
        function saveVotes() {
            localStorage.setItem('hwland_votes', JSON.stringify(votes));
            localStorage.setItem('hwland_userVoted', userVoted.toString());
        }
        
        let userVoted = false;
        let countdownSeconds = 8 * 60; // 8 minutes
        let votingActive = true; // Track if voting is still active
        
        // Start fresh 8-minute timer on page load
        localStorage.removeItem('hwland_countdown_end');
        localStorage.removeItem('hwland_votes'); // Clear old votes
        localStorage.removeItem('hwland_userVoted'); // Clear user vote status
        localStorage.setItem('hwland_countdown_end', (Date.now() + 8 * 60 * 1000).toString());
        
        // Add fake votes at 4 per minute (every 15 seconds)
        setInterval(() => {
            if (votingActive && countdownSeconds > 0) {
                // Pick 1 random character to get a vote
                const characters = Object.keys(votes);
                const randomChar = characters[Math.floor(Math.random() * characters.length)];
                votes[randomChar]++;
                document.getElementById('vote-' + randomChar).textContent = votes[randomChar];
                saveVotes();
            }
        }, 15000); // Every 15 seconds (4 votes per minute)
        
        loadVotes();
        
        function updateCountdown() {
            const minutes = Math.floor(countdownSeconds / 60);
            const seconds = countdownSeconds % 60;
            document.getElementById('countdown').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            if (countdownSeconds > 0) {
                countdownSeconds--;
            } else {
                // Timer is up - disable voting and reveal Mr. Thompson as guilty
                votingActive = false;
                
document.getElementById('guiltyName').textContent = 'æ±¤æ™®æ£®å…ˆç”Ÿ';
document.getElementById('guiltyReason').textContent = 'ç­–åˆ’äº†50å¹´çš„å¤±è¸ªæ¡ˆã€‚æŒæœ‰å¨å°”é€Šçš„50ä¸‡ç¾å…ƒä¿é™©å•ã€‚å¨å°”é€Šå‘ç°éæ³•é«˜åˆ©è´·ï¼ˆ40%åˆ©ç‡ï¼‰å¹¶æ‰“ç®—å‘è”é‚¦å½“å±€ä¸¾æŠ¥ã€‚æ±¤æ™®æ£®è‡ª1974å¹´ä»¥æ¥è‡³å°‘è°‹æ€äº†6äººä»¥è·å–ç»æµåˆ©ç›Šï¼Œç”¨"ä»ªå¼"å’Œ"å²›å±¿è¯…å’’"ä½œä¸ºæ©æŠ¤ã€‚ä»–ç³»ç»Ÿåœ°æ¶ˆé™¤ä»»ä½•å¯èƒ½æ­éœ²ä»–çš„äººã€‚è¯æ®æ¥æºï¼šå¨å°”é€Šçš„éšè—å½•éŸ³ï¼ˆç”¨å¯†ç 1987RITUALè§£é”ï¼‰ã€è§’è‰²å¯¹è¯å’Œæ±¤æ™®æ£®å¯¹æ­¦çš„å¦ç™½ã€‚';
                document.getElementById('guiltyAnnouncement').style.display = 'block';
                
                // Disable all voting buttons
                document.querySelectorAll('.vote-option').forEach(opt => {
                    opt.style.opacity = '0.5';
                    opt.style.cursor = 'not-allowed';
                    opt.onclick = null;
                });
                
                // Keep the announcement visible (no auto-hide, no restart)
            }
        }
        
        setInterval(updateCountdown, 1000);
        
        window.copyCA = function() {
            const caText = document.getElementById('caText').textContent;
            navigator.clipboard.writeText(caText).then(() => {
                const originalText = document.getElementById('caText').textContent;
                document.getElementById('caText').textContent = 'Copied!';
                document.getElementById('caText').style.color = '#22c55e';
                setTimeout(() => {
                    document.getElementById('caText').textContent = originalText;
                    document.getElementById('caText').style.color = '';
                }, 1500);
            }).catch(err => {
                alert('Failed to copy: ' + err);
            });
        }
        
window.vote = function(character) {
    if (!votingActive) {
        alert('æŠ•ç¥¨å·²ç»“æŸï¼');
        return;
    }
    
    if (userVoted) {
        alert('æ‚¨å·²ç»æŠ•è¿‡ç¥¨äº†ï¼');
        return;
    }
            
            votes[character]++;
            document.getElementById('vote-' + character).textContent = votes[character];
            userVoted = true;
            
            saveVotes();
            
            document.querySelectorAll('.vote-option').forEach(opt => {
                opt.style.opacity = '0.5';
                opt.style.cursor = 'not-allowed';
            });
        }
        
        function openMysteryModal(mysteryType) {
const mysteries = {
    'wilson': {
        title: 'ğŸ” å¨å°”é€Šå¤±è¸ª - ç¬¬ä¸‰å¤©',
        content: `
            <div class="mystery-section">
                <div class="mystery-section-title">å¤±è¸ªäº‹ä»¶</div>
                <div class="mystery-section-content">
                    è€å¨å°”é€Šå·²ç»å¤±è¸ªä¸‰å¤©äº†ã€‚å‘ç°æ—¶ä»–çš„å’–å•¡è¿˜æ˜¯çƒ­çš„ï¼Œé’“é±¼ç‚¹çš„é’“å…·ç®±æ˜¯å¼€ç€çš„ï¼Œä»–æœ€åçš„æ—¥è®°è®°å½•å†™é“ï¼š"å»å¯¹è´¨â€”â€”"[æœªå®Œæˆ]
                </div>
            </div>
            <div class="mystery-section">
                <div class="mystery-section-title">å…³é”®è¯æ®</div>
                <div class="evidence-item">ğŸ“ å¨å°”é€Šçš„å¤¹å…‹åœ¨é‡‡çŸ³åœºè¢«å‘ç°ï¼Œä¸Šé¢æœ‰æ˜‚è´µçš„é¦™æ°´å‘³</div>
                <div class="evidence-item">ğŸ‘” å¤¹å…‹ä¸Šå‘ç°äº†æ±¤æ™®æ£®çš„åç‰‡</div>
                <div class="evidence-item">ğŸ‘£ æ³¥æ³çš„è„šå°è¡¨æ˜æœ‰é‡ç‰©è¢«æ‹–èµ°</div>
                <div class="evidence-item">ğŸ• æŸ´çŠ¬æ‹’ç»é è¿‘æ±¤æ™®æ£®çš„å¤§é—¨ - åªæœ‰é—»åˆ°è¡€è…¥å‘³æ—¶æ‰ä¼šè¿™æ ·</div>
            </div>
            <div class="mystery-section">
                <div class="mystery-section-title">è°œè¯­</div>
                <div class="riddle-item">"å½“ä¸ƒäººå›´æˆåœˆç«™ç«‹ï¼Œç¬¬å…«äººå°†æ°¸ä¸è¢«æ‰¾åˆ°"</div>
                <div class="mystery-section-content" style="margin-top: 10px;">
                    è¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå²›ä¸Šæœ‰7ä¸ªä¸»è¦å±…æ°‘ã€‚å¨å°”é€Šæœ¬åº”æ˜¯ç¬¬å…«ä¸ª...
                </div>
            </div>
        `
    },
    'insurance': {
        title: 'ğŸ’° æ±¤æ™®æ£®çš„ç§˜å¯†',
        content: `
            <div class="mystery-section">
                <div class="mystery-section-title">ä¿é™©å•</div>
                <div class="mystery-section-content">
                    æ±¤æ™®æ£®æŒæœ‰å¨å°”é€Šçš„50ä¸‡ç¾å…ƒäººå¯¿ä¿é™©å•ï¼Œä»–è‡ªå·±æ˜¯å”¯ä¸€å—ç›Šäººã€‚å¨å°”é€Šåœ¨æ±¤æ™®æ£®"è§£å†³ä»–çš„å€ºåŠ¡"åç­¾ç½²äº†å®ƒâ€”â€”ä½†ä»–å¾ˆå®³æ€•ã€‚
                </div>
            </div>
            <div class="mystery-section">
                <div class="mystery-section-title">å…³é”®è¯æ®</div>
                <div class="evidence-item">ğŸ’¼ æ±¤æ™®æ£®åœ¨å€ºåŠ¡åæ‹¥æœ‰å¨å°”é€Šçš„æˆ¿å­ã€èˆ¹å’ŒåœŸåœ°</div>
                <div class="evidence-item">ğŸ“Š æ±¤æ™®æ£®çš„è´¦æœ¬æ˜¾ç¤º40%çš„éæ³•åˆ©ç‡</div>
                <div class="evidence-item">ğŸ’¸ å¨å°”é€Šæ‰“ç®—å‘è”é‚¦å½“å±€ä¸¾æŠ¥æ±¤æ™®æ£®</div>
                <div class="evidence-item">ğŸ¦ æ±¤æ™®æ£®å£°ç§°å¨å°”é€Šå¤±è¸ªæ—¶ä»–åœ¨å¤§é™†çš„é“¶è¡Œ</div>
            </div>
            <div class="mystery-section">
                <div class="mystery-section-title">æ±¤æ™®æ£®çš„å¦ç™½</div>
                <div class="mystery-section-content">
                    åœ¨ä¸é©¬åº“æ–¯çš„å¯¹è¯ä¸­ï¼Œæ±¤æ™®æ£®æ‰¿è®¤ï¼š"æˆ‘ä»æ¯æ¬¡å¤±è¸ªä¸­è·åˆ©ã€‚æˆ¿åœ°äº§ä»·å€¼ä¸‹è·Œï¼Œæˆ‘ä¹°å…¥ï¼Œç„¶åå®ƒä»¬åˆä¸Šæ¶¨ã€‚"ä½†ä»–åšç§°è‡ªå·±æ²¡æœ‰æ€ä»»ä½•äººã€‚
                </div>
            </div>
            <div class="mystery-section">
                <div class="mystery-section-title">è°œè¯­</div>
                <div class="riddle-item">"ä»æ²‰é»˜ä¸­è·åˆ©çš„äººå°†è¢«ä»–ä»¬çš„é“¶èˆŒæ­éœ²"</div>
            </div>
        `
    },
    'ritual': {
        title: 'ğŸ•¯ï¸ 1987å¹´ä»ªå¼',
        content: `
            <div class="mystery-section">
                <div class="mystery-section-title">è¡€ç¥­ä»ªå¼</div>
                <div class="mystery-section-content">
                    1987å¹´ï¼Œä¸ƒä¸ªäººåœ¨çŸ³åœˆä¸¾è¡Œäº†ä»ªå¼ï¼Œè¯•å›¾å¬å”¤ç¹è£ã€‚å®ƒæˆåŠŸäº†â€”â€”ä½†éœ€è¦è¡€çš„ä»£ä»·ã€‚ä»–ä»¬æŠ½ç­¾ã€‚æ±¤æ™®æ£®çš„å¼Ÿå¼Ÿè¾“äº†ã€‚åªæœ‰æ±¤æ™®æ£®å’Œæ­¦çš„ç¥–çˆ¶æ´»äº†ä¸‹æ¥ã€‚
                </div>
            </div>
            <div class="mystery-section">
                <div class="mystery-section-title">æ¨¡å¼</div>
                <div class="mystery-section-content">
                    æ¯13å¹´ï¼Œåœ¨ç§‹åˆ†æœŸé—´å°±æœ‰äººå¤±è¸ªã€‚è®°å½•å¯ä»¥è¿½æº¯åˆ°1896å¹´ï¼š
                </div>
                <div class="evidence-item">1961å¹´ - å¤±è¸ª</div>
                <div class="evidence-item">1974å¹´ - å¤±è¸ª</div>
                <div class="evidence-item">1987å¹´ - ä»ªå¼ï¼ˆæ±¤æ™®æ£®çš„å¼Ÿå¼Ÿæ­»äº¡ï¼‰</div>
                <div class="evidence-item">2000å¹´ - å¤±è¸ª</div>
                <div class="evidence-item">2013å¹´ - å¤±è¸ª</div>
                <div class="evidence-item">2025å¹´ - å¨å°”é€Šå¤±è¸ª...ä»Šæ™šæ˜¯ç¬¬13å¹´</div>
            </div>
            <div class="mystery-section">
                <div class="mystery-section-title">æ±¤æ™®æ£®çš„è¯</div>
                <div class="mystery-section-content">
                    "å²›å±¿ç´¢å–å®ƒåº”å¾—çš„ã€‚æ¯ã€‚åä¸‰ã€‚å¹´ã€‚"ä½†åæ¥ä»–æ‰¿è®¤ï¼š"è¿™äº›ä¸æ˜¯è¶…è‡ªç„¶çš„æ­»äº¡ã€‚å®ƒä»¬éå¸¸äººæ€§åŒ–ã€‚éå¸¸æœ‰åˆ©å¯å›¾ã€‚è‡ª1974å¹´ä»¥æ¥ï¼Œæˆ‘ç­–åˆ’äº†æ¯ä¸€èµ·ã€‚"
                </div>
            </div>
            <div class="mystery-section">
                <div class="mystery-section-title">è°œè¯­</div>
                <div class="riddle-item">"ä¸ƒç½ªä¸€å®¡åˆ¤ã€‚ä¸ƒå‘½ä¸€æ¨æ„ã€‚å½“ç¬¬å…«è€…å¯»çœŸç›¸ï¼Œç¬¬ä¸€è€…å°†æŠ¹è¯æ®ã€‚"</div>
            </div>
        `
    },
    'locked': {
        title: 'ğŸ”’ é”å®šæ–‡ä»¶ - å¨å°”é€Šçš„è¯æ®',
        content: `
            <div class="mystery-section">
                <div class="mystery-section-title">âš ï¸ å¯†ç ä¿æŠ¤</div>
                <div class="mystery-section-content">
                    æ­¤æ–‡ä»¶åŒ…å«å¨å°”é€Šçš„æœ€ç»ˆè¯æ®â€”â€”æ­ç¤ºè°æ˜¯çœŸæ­£å‡¶æ‰‹çš„ç¡®å‡¿è¯æ®ã€‚å¨å°”é€Šåœ¨å¤±è¸ªå‰è—èµ·äº†è¿™ä¸ªã€‚
                </div>
            </div>
            <div class="password-input-container">
                <div style="color: #fbbf24; font-weight: bold; margin-bottom: 10px;">è¾“å…¥å¯†ç ï¼š</div>
                <div style="color: #cbd5e1; font-size: 12px; margin-bottom: 15px;">æç¤ºï¼šå¯†ç éšè—åœ¨æŸä¸ªè§’è‰²çš„å¯¹è¯ä¸­ã€‚æœ‰äººæåˆ°äº†ä¸€ä¸ªç‰¹å®šçš„å¹´ä»½ï¼Œå®ƒæ˜¯å…³é”®...</div>
                <input type="password" id="lockedFilePassword" placeholder="è¾“å…¥å¯†ç ...">
                <button onclick="checkPassword()">è§£é”æ–‡ä»¶</button>
                <div id="passwordMessage"></div>
            </div>
        `
    },
    'caves': {
        title: 'ğŸ—ºï¸ æ°´ä¸‹æ´ç©´',
        content: `
            <div class="mystery-section">
                <div class="mystery-section-title">ç¬¦å·</div>
                <div class="mystery-section-content">
                    å¥‡æ€ªçš„ç¬¦å·å‡ºç°åœ¨æ•´ä¸ªå²›ä¸Šâ€”â€”åˆ»åœ¨æ ‘ä¸Šã€å²©çŸ³ä¸Šã€ç å¤´ä¸Šï¼Œç”šè‡³èˆ¹ä½“ä¸Šã€‚å®ƒä»¬åœ¨å¤œé‡Œå¾®å¾®å‘å…‰ã€‚å½“å åŠ æ—¶ï¼Œå®ƒä»¬å½¢æˆä¸€å¼ æŒ‡å‘ç¯å¡”ä¸‹æ°´ä¸‹æ´ç©´çš„åœ°å›¾ã€‚
                </div>
            </div>
            <div class="mystery-section">
                <div class="mystery-section-title">å…³é”®è¯æ®</div>
                <div class="evidence-item">ğŸ”® æ­¦ä¸€ç›´åœ¨åˆ»è¿™äº›ç¬¦å· - å£°ç§°å®ƒä»¬æ˜¯"è­¦å‘Š"</div>
                <div class="evidence-item">ğŸ“œ ä»–ç¥–çˆ¶çš„æŒ‡ç¤ºï¼š"æ ‡è®°å°¸ä½“æ‰€åœ¨ä¹‹å¤„ï¼Œä»¥ä¾¿ç”Ÿè€…çŸ¥é“è¦é€ƒç¦»"</div>
                <div class="evidence-item">âš ï¸ å²›ä¸Šæœ‰6ä¸ªæ ‡è®°ã€‚å¾ˆå¿«å°±ä¼šæœ‰7ä¸ªã€‚</div>
                <div class="evidence-item">ğŸŒŠ é±¼ç±»å®Œå…¨æ”¾å¼ƒäº†åŒ—æ¹¾ - åœ¨é¿å¼€æŸæ ·ä¸œè¥¿</div>
                <div class="evidence-item">ğŸŒ• ç¥–çˆ¶çš„è­¦å‘Šï¼š"æ»¡æœˆæ—¶åƒä¸‡ä¸è¦è¿›å…¥"</div>
            </div>
            <div class="mystery-section">
                <div class="mystery-section-title">æ­¦çš„å¦ç™½</div>
                <div class="mystery-section-content">
                    "æˆ‘å¯¹ä½ ä»¬æ‰€æœ‰äººéƒ½æ’’äº†è°ã€‚æˆ‘è¿›å»è¿‡æ´ç©´ã€‚æˆ‘çœ‹åˆ°äº†ä¸œè¥¿...è¯æ®ã€‚æ±¤æ™®æ£®å‡ åå¹´æ¥ä¸€ç›´åœ¨åšçš„äº‹æƒ…çš„è¯æ®ã€‚"æ±¤æ™®æ£®æ¯æœˆä»˜æ­¦1ä¸‡ç¾å…ƒè®©ä»–ä¿æŒæ²‰é»˜ã€‚
                </div>
            </div>
            <div class="mystery-section">
                <div class="mystery-section-title">è°œè¯­</div>
                <div class="riddle-item">"ç»™äºˆçš„æ‰‹ä¹Ÿå¯ä»¥å¤ºèµ°"</div>
                <div class="mystery-section-content" style="margin-top: 10px;">
                    æ±¤æ™®æ£®ä¸€ç›´åœ¨"ç»™äºˆ"æ¯ä¸ªäººâ€”â€”è´·æ¬¾ã€ä»˜æ¬¾ã€å’Œè§£ã€‚ä½†ä»£ä»·æ˜¯ä»€ä¹ˆï¼Ÿ
                </div>
            </div>
        `
    }
};
            
            const mystery = mysteries[mysteryType];
            document.getElementById('mysteryModalTitle').textContent = mystery.title;
            document.getElementById('mysteryModalContent').innerHTML = mystery.content;
            mysteryModal.classList.add('show');
            modalOverlay.classList.add('show');
        }
        
window.checkPassword = function() {
    const password = document.getElementById('lockedFilePassword').value;
    const messageDiv = document.getElementById('passwordMessage');
    
    if (password === '1987RITUAL') {
        messageDiv.innerHTML = '<div class="password-success">âœ“ è®¿é—®å·²æˆæƒ</div>';
        setTimeout(() => {
            document.getElementById('mysteryModalContent').innerHTML = `
                <div class="mystery-section" style="border: 3px solid #22c55e;">
                    <div class="mystery-section-title" style="color: #22c55e;">ğŸ”“ å¨å°”é€Šçš„æœ€ç»ˆè¯æ® - å·²è§£é”</div>
                    <div class="mystery-section-content">
                        <strong style="color: #fbbf24;">å¨å°”é€Šçš„éšè—å½•éŸ³ - 2025å¹´10æœˆ9æ—¥</strong><br><br>
                        "å¦‚æœä½ æ­£åœ¨å¬è¿™ä¸ªï¼Œæˆ‘å·²ç»æ­»äº†ã€‚æ±¤æ™®æ£®æ€äº†æˆ‘ï¼Œæˆ–è€…ä»˜é’±è®©åˆ«äººè¿™ä¹ˆåšã€‚æˆ‘æœ‰è¯æ®ã€‚å¤šå¹´æ¥ï¼Œæˆ‘æ€€ç–‘è¿™ä¸ªæ¨¡å¼â€”â€”æ¯13å¹´ï¼Œå°±æœ‰äººå¤±è¸ªã€‚æˆ‘æ·±å…¥æ¡£æ¡ˆï¼Œäº¤å‰å‚è€ƒäº†è´¢äº§è®°å½•ã€ä¿é™©ç´¢èµ”å’Œé“¶è¡Œè½¬è´¦ã€‚"
                    </div>
                </div>
                <div class="mystery-section">
                    <div class="mystery-section-title">çœŸç›¸</div>
                    <div class="evidence-item"><strong>1974å¹´ï¼š</strong>æ±¤æ™®æ£®ç­–åˆ’äº†ä»–çš„ç¬¬ä¸€èµ·è°‹æ€ã€‚å—å®³è€…æ¬ ä»–é’±ã€‚ä¼ªè£…æˆäº‹æ•…ã€‚æ±¤æ™®æ£®æ”¶å–äº†ä¿é™©é‡‘å’Œè´¢äº§ã€‚</div>
                    <div class="evidence-item"><strong>1987å¹´ï¼š</strong>ä»ªå¼æ˜¯çœŸå®çš„ï¼Œä½†æ±¤æ™®æ£®æ§åˆ¶äº†è°"è¾“"æ‰æŠ½ç­¾ã€‚ä»–çš„å¼Ÿå¼Ÿå‘ç°äº†1974å¹´çš„çœŸç›¸ã€‚å¿…é¡»æ­»ã€‚</div>
                    <div class="evidence-item"><strong>2000å¹´ï¼š</strong>å¦ä¸€ä¸ªå€ºåŠ¡äººã€‚å¦ä¸€æ¬¡"å¤±è¸ª"ã€‚å¦ä¸€ç¬”ä¿é™©èµ”ä»˜ã€‚</div>
                    <div class="evidence-item"><strong>2013å¹´ï¼š</strong>æ­¦çš„çˆ¶äº²ç›®ç¹æ±¤æ™®æ£®å¤„ç†è¯æ®ã€‚æ±¤æ™®æ£®ä»˜é’±ç»™ä»–ï¼Œå¼ºè¿«ä»–ä»¥åŒ–åç¦»å¼€ã€‚</div>
                    <div class="evidence-item"><strong>2025å¹´ï¼š</strong>æ±¤æ™®æ£®ä¸€ç›´åœ¨ç³»ç»Ÿåœ°æ¶ˆé™¤ä»»ä½•å¯èƒ½æ­éœ²ä»–çš„äººã€‚æˆ‘å‘ç°äº†ä»–çš„è´¦æœ¬ï¼Œæ˜¾ç¤º50å¹´æ¥çš„éæ³•é«˜åˆ©è´·ã€ä¿é™©æ¬ºè¯ˆå’Œå‹’ç´¢è¡Œä¸ºã€‚</div>
                </div>
                <div class="mystery-section" style="background: rgba(239, 68, 68, 0.2); border: 3px solid #ef4444;">
                    <div class="mystery-section-title" style="color: #ef4444;">æ±¤æ™®æ£®çš„åŠ¨æœº</div>
                    <div class="mystery-section-content">
                        æ±¤æ™®æ£®å‘ç°æˆ‘æ‰¾åˆ°äº†å°†ä»–ä¸æ‰€æœ‰å¤±è¸ªæ¡ˆè”ç³»èµ·æ¥çš„è¯æ®ã€‚æˆ‘æœ‰é“¶è¡Œè®°å½•ã€ä¼ªé€ çš„ä¿é™©æ–‡ä»¶å’Œè¯äººè¯è¯ã€‚ä»–è¯•å›¾ç”¨æŠµæŠ¼è´·æ¬¾è¿˜æ¬¾æ”¶ä¹°æˆ‘ï¼Œè®©æˆ‘ç­¾ç½²ä¿é™©å•ã€‚å½“æˆ‘æ‹’ç»ä¿æŒæ²‰é»˜æ—¶ï¼Œä»–å†³å®šæˆ‘å¿…é¡»æˆä¸ºä¸‹ä¸€ä¸ª"ä»ªå¼ç¥­å“"ã€‚<br><br>
                        <strong style="color: #fbbf24;">å‡¶æ‰‹æ˜¯æ±¤æ™®æ£®å…ˆç”Ÿã€‚</strong><br><br>
                        ä»–åœ¨50å¹´é‡Œè‡³å°‘è°‹æ€äº†6äººä»¥è·å–ç»æµåˆ©ç›Šã€‚ä»–ç”¨"ä»ªå¼"å’Œ"å²›å±¿è¯…å’’"ä½œä¸ºæ©æŠ¤ã€‚è¿™ä¸€ç›´éƒ½æ˜¯å…³äºé‡‘é’±ã€‚
                    </div>
                </div>
                <div class="mystery-section">
                    <div class="mystery-section-title">é™„åŠ è¯æ®</div>
                    <div class="evidence-item">ğŸ“ æ±¤æ™®æ£®åŠå…¬å®¤ä¿é™©ç®±ä¸­çš„éšè—è´¦æœ¬ - å¯†ç ï¼šä»–å¼Ÿå¼Ÿçš„æ­»äº¡æ—¥æœŸ</div>
                    <div class="evidence-item">ğŸ™ï¸ æ­¤å½•éŸ³å¤‡ä»½åœ¨æ­¦çš„å¯ºåº™è—åŒ¿å¤„</div>
                    <div class="evidence-item">ğŸ’¼ ä¿é™©æ–‡ä»¶æ˜¾ç¤ºæ±¤æ™®æ£®æ˜¯æ‰€æœ‰å—å®³è€…çš„å—ç›Šäºº</div>
                    <div class="evidence-item">ğŸ—ºï¸ æ±¤æ™®æ£®æ‹¥æœ‰æ‰€æœ‰å‰å—å®³è€…çš„è´¢äº§</div>
                    <div class="evidence-item">ï¿½ï¿½ 50å¹´è°‹æ€çš„æ€»åˆ©æ¶¦ï¼šè¶…è¿‡320ä¸‡ç¾å…ƒ</div>
                </div>
                <div class="riddle-item">
                    "å½“ä¸ƒäººè¢«æŒ‡æ§ï¼Œä¸€äººæ¡åˆ€ï¼Œè°æœ‰ç½ªâ€”â€”åˆ€åˆƒè¿˜æ˜¯èµ‹äºˆå®ƒç”Ÿå‘½çš„äººï¼Ÿ"<br><br>
                    ç­”æ¡ˆï¼šæ±¤æ™®æ£®ä¸¤è€…éƒ½æ˜¯â€”â€”ä»–æ˜¯æŒ‡æ§ä»–äººçš„å®¡åˆ¤è€…ï¼Œä¹Ÿæ˜¯æ¡åˆ€çš„æ€æ‰‹ã€‚
                </div>
            `;
        }, 500);
    } else {
        messageDiv.innerHTML = '<div class="password-error">âœ— å¯†ç é”™è¯¯</div>';
    }
}
        
        infoButton.addEventListener('click', () => {
            infoModal.classList.add('show');
            modalOverlay.classList.add('show');
        });
        
        closeModal.addEventListener('click', () => {
            infoModal.classList.remove('show');
            modalOverlay.classList.remove('show');
        });
        
        closeCharModal.addEventListener('click', () => {
            document.getElementById('characterModal').classList.remove('show');
            modalOverlay.classList.remove('show');
        });
        
        closeMysteryModal.addEventListener('click', () => {
            mysteryModal.classList.remove('show');
            modalOverlay.classList.remove('show');
        });
        
        modalOverlay.addEventListener('click', () => {
            infoModal.classList.remove('show');
            document.getElementById('characterModal').classList.remove('show');
            mysteryModal.classList.remove('show');
            modalOverlay.classList.remove('show');
        });
    </script>
</body>
</html>
